import { CalculatorContent } from '@/types';

export const GREEN_MORTGAGE_LENDER_FINDER_CONTENT: CalculatorContent = {
  title: 'Green Mortgage Lender Finder - Energy Efficient Home Financing Programs',
  description: 'Find green mortgage lenders offering special financing for energy-efficient homes including FHA EEM, Fannie Mae HomeStyle Energy, and green home loans',
  icon: 'Icon',
  slug: 'green-mortgage-lender-finder',
  category: 'Green & Sustainable',
  article: {
    title: 'Complete Guide to Green Mortgages and Energy Efficient Home Financing',
    content: `
    <h2>What is a Green Mortgage?</h2>
    <p>A green mortgage (also called an energy-efficient mortgage or EEM) provides favorable financing terms for energy-efficient homes or funds for energy improvements. Buyers can qualify for larger loan amounts, lower interest rates, or reduced fees - recognizing that energy-efficient homes have lower operating costs and reduced default risk.</p>

    <h3>Types of Green Mortgage Programs</h3>
    <ul>
      <li><strong>FHA Energy Efficient Mortgage (EEM):</strong> Finance up to $8,000 in energy improvements with home purchase, no income limits.</li>
      <li><strong>Fannie Mae HomeStyle Energy:</strong> Finance up to 15% of completed appraisal value for energy upgrades, conventional loan.</li>
      <li><strong>VA Energy Efficient Mortgage:</strong> Veterans can finance up to $6,000 in improvements, no down payment.</li>
      <li><strong>USDA Rural Energy Loan:</strong> 100% financing for energy improvements in rural areas.</li>
      <li><strong>Green Bonds/Portfolio Lenders:</strong> Private lenders offering 0.125-0.50% rate discount for certified green homes.</li>
      <li><strong>PACE Financing:</strong> Property Assessed Clean Energy loans for solar/efficiency, repaid through property taxes.</li>
    </ul>

    <h3>FHA Energy Efficient Mortgage (EEM) Details</h3>
    <ul>
      <li><strong>Eligibility:</strong> Any FHA-approved property, requires energy audit showing cost-effective improvements.</li>
      <li><strong>Loan Amount:</strong> Up to $8,000 OR cost of improvements, whichever is less.</li>
      <li><strong>Qualifying Improvements:</strong> Insulation, windows, doors, HVAC, solar panels, water heaters.</li>
      <li><strong>Process:</strong> Get energy audit, include improvement costs in FHA loan, complete upgrades within 90 days.</li>
      <li><strong>Interest Rate:</strong> Same as standard FHA, but can qualify for more house due to energy savings.</li>
      <li><strong>Benefits:</strong> Roll improvement costs into mortgage, no second loan needed.</li>
    </ul>

    <h3>Fannie Mae HomeStyle Energy Mortgage</h3>
    <ul>
      <li><strong>Eligibility:</strong> Owner-occupied 1-4 unit properties, requires energy report.</li>
      <li><strong>Loan Amount:</strong> Lesser of 15% of completed appraised value OR $35,000.</li>
      <li><strong>Qualifying Improvements:</strong> Must be recommended by energy consultant or utility audit.</li>
      <li><strong>Interest Rate:</strong> Conventional rates, potential 0.125-0.25% discount for ENERGY STAR homes.</li>
      <li><strong>Process:</strong> Purchase or refinance with energy improvement rider, complete work within 90 days.</li>
      <li><strong>Benefits:</strong> Higher loan limits than FHA EEM, available for conventional buyers.</li>
    </ul>

    <h3>Green Home Certification Programs</h3>
    <ul>
      <li><strong>LEED for Homes:</strong> Recognized by many lenders for rate discounts and higher LTV.</li>
      <li><strong>ENERGY STAR Certified Homes:</strong> 10% more efficient than code, eligible for special financing.</li>
      <li><strong>HERS Rating:</strong> Home Energy Rating System - lower scores qualify for better terms.</li>
      <li><strong>National Green Building Standard:</strong> NGBS certification accepted by Fannie Mae/Freddie Mac.</li>
      <li><strong>Passive House:</strong> Ultra-efficient standard, premium financing available.</li>
    </ul>

    <h3>Green Mortgage Benefits</h3>
    <ul>
      <li><strong>Higher Debt-to-Income Ratios:</strong> Some lenders allow 2% higher DTI for energy-efficient homes.</li>
      <li><strong>Larger Loan Amounts:</strong> Recognize lower utility costs in qualification calculations.</li>
      <li><strong>Interest Rate Discounts:</strong> 0.125-0.50% reduction for certified green homes.</li>
      <li><strong>Reduced Fees:</strong> Some lenders waive appraisal or origination fees for green mortgages.</li>
      <li><strong>LTV Flexibility:</strong> May allow higher loan-to-value ratios (up to 97-100%).</li>
    </ul>

    <h3>Qualifying Energy Improvements</h3>
    <ul>
      <li><strong>HVAC Systems:</strong> High-efficiency furnaces, heat pumps, central AC upgrades.</li>
      <li><strong>Insulation:</strong> Attic, wall, basement, rim joist insulation upgrades.</li>
      <li><strong>Windows and Doors:</strong> ENERGY STAR-rated replacements.</li>
      <li><strong>Solar Panels:</strong> Photovoltaic systems that offset electricity use.</li>
      <li><strong>Solar Water Heaters:</strong> Thermal systems for domestic hot water.</li>
      <li><strong>Geothermal Systems:</strong> Ground-source heat pumps for heating/cooling.</li>
      <li><strong>Air Sealing:</strong> Reducing infiltration through weatherization.</li>
    </ul>

    <h3>Top Green Mortgage Lenders</h3>
    <ul>
      <li><strong>Regions Bank:</strong> Green mortgage program with 0.25% rate discount for ENERGY STAR homes.</li>
      <li><strong>Guaranteed Rate:</strong> Green mortgages for LEED and ENERGY STAR certified properties.</li>
      <li><strong>Self-Help Credit Union:</strong> Specialized green home financing, focuses on sustainability.</li>
      <li><strong>New Resource Bank:</strong> Green-focused lender, discounts for eco-friendly properties.</li>
      <li><strong>Bank of America:</strong> FHA EEM and HomeStyle Energy programs available.</li>
      <li><strong>Wells Fargo:</strong> Offers FHA EEM and conventional green mortgages.</li>
    </ul>

    <h3>Green Refinance Options</h3>
    <ul>
      <li><strong>FHA 203(k) Green Refinance:</strong> Refinance and add energy improvements, up to $35,000.</li>
      <li><strong>Fannie Mae HomeStyle Energy Refinance:</strong> Cash-out refinance for energy upgrades.</li>
      <li><strong>Green Refinance Rate Reduction:</strong> Lower rates when refinancing certified green homes.</li>
      <li><strong>HERO/PACE Financing:</strong> Property tax-based energy financing (available in select states).</li>
    </ul>

    <h3>How to Qualify for a Green Mortgage</h3>
    <ul>
      <li><strong>Step 1:</strong> Get home energy audit from certified professional (HERS rater, BPI certified).</li>
      <li><strong>Step 2:</strong> Identify cost-effective improvements with positive cash flow (savings > payments).</li>
      <li><strong>Step 3:</strong> Apply with green mortgage-approved lender, provide energy report.</li>
      <li><strong>Step 4:</strong> Complete underwriting including energy analysis.</li>
      <li><strong>Step 5:</strong> Close on home, complete improvements within required timeframe (typically 90-180 days).</li>
      <li><strong>Step 6:</strong> Verify completion with follow-up inspection or test-out.</li>
    </ul>

    <h3>How to Use This Finder</h3>
    <p>Enter your home price, desired improvements, location, and certification status. The calculator estimates green mortgage eligibility, potential rate savings, monthly payment comparison vs standard mortgage, and lifetime cost savings from green financing programs.</p>
  `,
  },
  calculator: {
    fields: [
      {
        name: 'homePrice',
        label: 'Home Purchase Price ($)',
        type: 'number',
        defaultValue: 350000,
      },
      {
        name: 'energyImprovements',
        label: 'Planned Energy Improvements ($)',
        type: 'number',
        defaultValue: 12000,
      },
      {
        name: 'downPaymentPercent',
        label: 'Down Payment (%)',
        type: 'number',
        defaultValue: 10,
      },
      {
        name: 'standardRate',
        label: 'Standard Mortgage Rate (%)',
        type: 'number',
        defaultValue: 6.75,
      },
      {
        name: 'greenRateDiscount',
        label: 'Green Mortgage Rate Discount (%)',
        type: 'number',
        defaultValue: 0.25,
      },
      {
        name: 'monthlyEnergySavings',
        label: 'Expected Monthly Energy Savings ($)',
        type: 'number',
        defaultValue: 150,
      },
    ],
    results: [],
    calculate: (values) => {
      const { homePrice, energyImprovements, downPaymentPercent, standardRate, greenRateDiscount, monthlyEnergySavings } = values;
      
      const downPayment = homePrice * (downPaymentPercent / 100);
      const standardLoanAmount = homePrice - downPayment;
      const greenLoanAmount = homePrice + energyImprovements - downPayment;
      
      const greenRate = standardRate - greenRateDiscount;
      
      const calculatePayment = (principal: number, rate: number) => {
        const monthlyRate = rate / 100 / 12;
        const numberOfPayments = 30 * 12;
        return (principal * monthlyRate * Math.pow(1 + monthlyRate, numberOfPayments)) / 
               (Math.pow(1 + monthlyRate, numberOfPayments) - 1);
      };
      
      const standardPayment = calculatePayment(standardLoanAmount, standardRate);
      const greenPayment = calculatePayment(greenLoanAmount, greenRate);
      
      const netMonthlyPayment = greenPayment - monthlyEnergySavings;
      const monthlySavingsVsStandard = standardPayment - netMonthlyPayment;
      
      const lifetimeSavings = (monthlySavingsVsStandard * 360) + (monthlyEnergySavings * 360);
      
      const standardTotalPaid = standardPayment * 360;
      const greenTotalPaid = greenPayment * 360;
      const energySavings30Years = monthlyEnergySavings * 360;
      const netGreenTotalPaid = greenTotalPaid - energySavings30Years;

      return [
        { label: 'Standard Loan Amount', value: standardLoanAmount.toFixed(2), isCurrency: true },
        { label: 'Green Loan Amount (with improvements)', value: greenLoanAmount.toFixed(2), isCurrency: true },
        { label: 'Standard Mortgage Rate', value: `${standardRate.toFixed(2)}%` },
        { label: 'Green Mortgage Rate', value: `${greenRate.toFixed(2)}%` },
        { label: 'Standard Monthly Payment', value: standardPayment.toFixed(2), isCurrency: true },
        { label: 'Green Mortgage Payment', value: greenPayment.toFixed(2), isCurrency: true },
        { label: 'Monthly Energy Savings', value: monthlyEnergySavings.toFixed(2), isCurrency: true },
        { label: 'Net Monthly Cost (Green Payment - Savings)', value: netMonthlyPayment.toFixed(2), isCurrency: true },
        { label: 'Monthly Savings vs Standard', value: monthlySavingsVsStandard.toFixed(2), isCurrency: true },
        { label: '30-Year Total Paid (Standard)', value: standardTotalPaid.toFixed(2), isCurrency: true },
        { label: '30-Year Total Paid (Green, After Savings)', value: netGreenTotalPaid.toFixed(2), isCurrency: true },
        { label: '30-Year Lifetime Savings', value: lifetimeSavings.toFixed(2), isCurrency: true },
      ];
    },
  },
};
