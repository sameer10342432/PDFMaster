import { CalculatorContent } from '@/types';

export const PROPERTY_SHOWING_FEEDBACK_FORM_CONTENT: CalculatorContent = {
  title: 'Property Showing Feedback Form',
  description: 'Collect structured feedback from buyer showings with professional feedback forms that help sellers understand buyer reactions and adjust strategy accordingly.',
  icon: 'Icon',
  category: 'Agent Tools',
  slug: 'property-showing-feedback-form',
  article: {
    title: 'Property Showing Feedback Form: Capture Buyer Insights',
    content: `
Showing feedback is critical intelligence that helps sellers understand how buyers perceive their property and what adjustments might be needed to secure an offer.

### Why Showing Feedback Matters

**For Sellers:**
- Understand buyer concerns and objections
- Identify needed improvements or adjustments
- Gauge market reception of pricing
- Make informed pricing decisions
- Reduce frustration and uncertainty
- Track showing trends over time

**For Listing Agents:**
- Demonstrate market responsiveness
- Show value of your service
- Guide seller decisions with data
- Identify pricing or preparation issues
- Report meaningful activity to sellers
- Build seller confidence in your expertise

**For Buyer Agents:**
- Help buyers articulate preferences
- Remember property details
- Compare properties systematically
- Identify must-haves vs nice-to-haves
- Narrow search criteria

### Essential Feedback Form Questions

**1. Overall Impression (1-5 scale)**
- How would you rate this property overall?
- 5 - Love it, very interested
- 4 - Like it, want to see again
- 3 - Neutral, it's okay
- 2 - Not a good fit
- 1 - Definitely not interested

**2. Price Perception**
- How do you feel about the asking price?
  - Priced below market
  - Priced appropriately
  - Slightly overpriced
  - Significantly overpriced
  - Not sure

**3. Property Condition**
- Overall condition rating: (1-5)
- Any condition concerns? (Open text)
- Needed repairs noticed? (Open text)
- Quality of finishes and updates? (1-5)

**4. Layout and Floor Plan**
- Does the layout work for your needs?
  - Yes, perfect
  - Yes, works well
  - Acceptable
  - Doesn't work well
  - Poor layout
- Specific layout concerns? (Open text)

**5. Space and Size**
- Is the size appropriate for your needs?
  - Too large
  - Perfect size
  - A bit small
  - Too small
- Which rooms feel too small? (Checklist)

**6. Location Assessment**
- How do you rate the location?
  - Ideal location
  - Good location
  - Acceptable location
  - Poor location
  - Deal-breaker location
- Location concerns? (Open text)

**7. Features and Amenities**
- Favorite features? (Open text)
- Missing features/amenities? (Open text)
- Deal-breakers or concerns? (Open text)

**8. Comparison to Other Properties**
- How does this compare to others you've seen?
  - Best one so far
  - Among the top
  - Middle of the pack
  - Below average
  - Least favorite

**9. Interest Level**
- What is your level of interest?
  - Ready to make an offer
  - Want to see again before deciding
  - Need to see more properties
  - Unlikely to make offer
  - Definitely not interested
- If interested, what's your likely offer price?
- Timeline for decision?

**10. Additional Comments**
- Any other thoughts or feedback? (Open text)
- Questions about the property? (Open text)
- What would it take to make you interested? (Open text)

### Feedback Collection Methods

**Agent-to-Agent:**
- Phone call within 24 hours
- Text message follow-up
- Email request
- ShowingTime feedback
- MLS feedback systems
- Response rate: 30-50%

**Automated Systems:**
- ShowingTime: $50-$100/month
- Centralized Showing Service (CSS)
- SuperAgent automated calls
- Email feedback requests
- SMS text requests
- Response rate: 40-60%

**Buyer Direct:**
- QR code feedback forms
- Property website feedback
- Email after showing
- Text message surveys
- Response rate: 15-30%

### Best Practices for Gathering Feedback

**Timing:**
- Request within 2-4 hours of showing
- Same-day follow-up essential
- Don't wait more than 24 hours
- Strike while memory is fresh

**Method:**
- Text first, then call
- Make it easy and quick
- Multiple choice when possible
- Keep forms under 2 minutes
- Offer incentives occasionally

**Relationship Building:**
- Thank agents for feedback
- Be professional and respectful
- Don't be defensive
- Build reciprocal relationships
- Give feedback on their listings too

**Follow-Through:**
- Share feedback with sellers promptly
- Analyze trends in feedback
- Recommend adjustments
- Track feedback over time
- Show responsiveness to patterns

### Common Feedback Themes

**Pricing Issues:**
- "Priced too high for condition"
- "Comparable at 123 Main sold for less"
- "Needs $20K in updates, price reflects move-in ready"
- "Great house but $25K over budget"

**Condition Concerns:**
- "Needs new roof"
- "Carpet is worn and stained"
- "Kitchen is very dated"
- "Bathroom needs updating"
- "Deferred maintenance evident"

**Layout Problems:**
- "Choppy floor plan"
- "Bedrooms too small"
- "No main floor bedroom"
- "Odd room configuration"
- "Wasted space"

**Location Challenges:**
- "Too far from work"
- "Busy street noise"
- "School district not preferred"
- "No walkability"
- "Area doesn't feel safe"

**Competition:**
- "123 Oak is nicer for same price"
- "Other properties have more features"
- "Comparing to better options"

### Sharing Feedback with Sellers

**Weekly Feedback Summary:**
- Total showings: 8
- Feedback received: 6 (75%)
- Average rating: 3.5/5
- Common themes:
  - Price concerns: 4 mentions
  - Kitchen dated: 3 mentions
  - Layout: 2 positive, 1 concern
- Recommendations based on feedback

**Individual Feedback Format:**
- Date and time of showing
- Buyer agent and brokerage
- Overall rating
- Key comments (anonymized if needed)
- Price perception
- Interest level
- Any specific concerns

**Trend Analysis:**
- After 10+ showings, identify patterns
- "70% mention price concerns"
- "80% love the backyard"
- "50% concerned about kitchen"
- Provide data-driven recommendations

### Acting on Feedback

**Price Adjustments:**
- If 60%+ say "overpriced" → Consider reduction
- If 80%+ say "overpriced" → Reduce within 1 week
- If all say "great price" → May get multiple offers

**Condition Improvements:**
- If fixable under $2K → Fix immediately
- If major repairs needed → Adjust price or fix
- If cosmetic → Staging or price adjustment

**Presentation Issues:**
- Decluttering needed
- Professional cleaning
- Repair minor items
- Staging consultation
- Photography updates

### Automated Feedback Systems

**ShowingTime: $50-$100/month**
- Automated feedback requests
- Agent and buyer feedback
- Analytics and reporting
- Integration with MLS
- High response rates

**Centralized Showing Service (CSS)**
- Market-dependent availability
- Automated feedback collection
- Appointment scheduling
- Showing reports
- Free in some markets

**ShowMojo: $45-$99/month**
- Self-showing with lockbox
- Automated feedback collection
- Lead capture
- Calendar integration
- Great for rentals and buyers

**Custom Google Forms: Free**
- Create custom forms
- QR code at property
- Email link to agents
- Collect responses
- Basic analytics

### Feedback Form Templates

**Quick Agent Feedback (30 seconds):**
1. Overall rating 1-5: ___
2. Price opinion: Under/Fair/Over
3. Client interest: High/Medium/Low/None
4. Key concern: ____________

**Detailed Buyer Feedback (2-3 minutes):**
1-10. [All questions listed above]

**Seller-Friendly Summary:**
- Total showings this week
- Feedback response rate
- Average ratings
- Top positive comments
- Key concerns mentioned
- Recommendations

### Legal and Ethical Considerations

**Fair Housing:**
- Never ask about protected classes
- Don't discriminate in showing
- Equal opportunity for all
- Document all interactions

**Privacy:**
- Respect buyer agent confidentiality
- Anonymize sensitive feedback
- Don't share buyer identity
- Professional handling of comments

**Honesty:**
- Share all feedback, even negative
- Don't sugarcoat serious concerns
- Provide objective analysis
- Help sellers make informed decisions

## How to Use This Form Generator

Configure your feedback form:
1. Select question types to include
2. Set rating scales (1-5, 1-10, etc.)
3. Choose required vs optional fields
4. Add custom questions
5. Set up delivery method (email, SMS, QR code)

Generate professional feedback form:
- Mobile-friendly design
- Quick completion (under 2 minutes)
- Multiple choice for easy response
- Open text for detailed comments
- Automated collection and reporting
- Integration with your CRM
- Seller-friendly summary reports

This generator creates professional showing feedback forms that help you gather valuable buyer insights and provide data-driven recommendations to sellers.
`,
  },
  calculator: {
    fields: [
      {
        name: 'totalShowings',
        label: 'Total Showings This Week',
        type: 'number',
        defaultValue: 8,
      },
      {
        name: 'feedbackReceived',
        label: 'Feedback Responses Received',
        type: 'number',
        defaultValue: 6,
      },
      {
        name: 'avgRating',
        label: 'Average Property Rating (1-5)',
        type: 'number',
        defaultValue: 3.5,
      },
      {
        name: 'priceOverpriced',
        label: 'Number Saying "Overpriced"',
        type: 'number',
        defaultValue: 4,
      },
      {
        name: 'highInterest',
        label: 'Number with High Interest',
        type: 'number',
        defaultValue: 2,
      },
    ],
    results: [
      { label: 'Feedback Response Rate', isCurrency: false },
      { label: 'Average Property Rating', isCurrency: false },
      { label: 'Price Concern Percentage', isCurrency: false },
      { label: 'High Interest Percentage', isCurrency: false },
      { label: 'Recommendation', isCurrency: false },
    ],
    calculate: (data) => {
      const { totalShowings, feedbackReceived, avgRating, priceOverpriced, highInterest } = data;
      
      const responseRate = (parseFloat(feedbackReceived) / parseFloat(totalShowings)) * 100;
      const rating = parseFloat(avgRating);
      const priceConcernPercent = (parseFloat(priceOverpriced) / parseFloat(feedbackReceived)) * 100;
      const interestPercent = (parseFloat(highInterest) / parseFloat(feedbackReceived)) * 100;
      
      let recommendation = "Continue current strategy";
      if (priceConcernPercent > 60) {
        recommendation = "Consider price reduction";
      } else if (interestPercent > 40) {
        recommendation = "Strong interest - expect offer soon";
      } else if (rating < 3) {
        recommendation = "Address condition/presentation issues";
      }
      
      return [
        { label: 'Feedback Response Rate', value: `${responseRate.toFixed(1)}%` },
        { label: 'Average Property Rating', value: `${rating.toFixed(1)}/5.0` },
        { label: 'Price Concern Percentage', value: `${priceConcernPercent.toFixed(1)}%` },
        { label: 'High Interest Percentage', value: `${interestPercent.toFixed(1)}%` },
        { label: 'Recommendation', value: recommendation },
      ];
    },
  },
};
