import { CalculatorContent } from '@/types';

export const GREEN_REBATE_FINDER_BY_ZIP_CONTENT: CalculatorContent = {
  title: 'Local Green Rebate Finder by ZIP Code - Find Energy Efficiency Incentives',
  description: 'Find local, state, and utility green rebates and incentives for energy efficiency upgrades by ZIP code',
  icon: 'Icon',
  slug: 'green-rebate-finder-by-zip',
  category: 'Green & Sustainable',
  article: {
    title: 'Complete Guide to Finding Local Green Rebates and Energy Efficiency Incentives',
    content: `
    <h2>Finding Green Rebates in Your Area</h2>
    <p>Thousands of dollars in local, state, and utility rebates are available for energy efficiency upgrades, but most homeowners miss out because they don't know where to look. By stacking federal tax credits (30%), state rebates ($500-$5,000), and utility incentives ($200-$2,000), you can reduce green upgrade costs by 40-60% - turning marginal investments into excellent ROI opportunities.</p>

    <h3>Types of Green Rebates and Incentives</h3>
    <ul>
      <li><strong>Federal Tax Credits:</strong> 30% of costs up to caps - applies nationwide through 2032.</li>
      <li><strong>State Rebates:</strong> Vary widely - $500-$10,000 for solar, heat pumps, insulation.</li>
      <li><strong>Utility Company Rebates:</strong> $50-$2,000 for HVAC, insulation, windows, appliances.</li>
      <li><strong>Local Municipality Incentives:</strong> City/county programs - property tax exemptions, fee waivers.</li>
      <li><strong>Low-Income Programs:</strong> Enhanced rebates for qualifying households (HOMES, HEEHRA programs).</li>
      <li><strong>On-Bill Financing:</strong> Utility loans repaid through energy savings on monthly bill.</li>
    </ul>

    <h3>Key Resources for Finding Rebates</h3>
    <ul>
      <li><strong>DSIRE (Database of State Incentives for Renewables & Efficiency):</strong> Comprehensive database at dsireusa.org.</li>
      <li><strong>ENERGY STAR Rebate Finder:</strong> energystar.gov/rebate-finder - utility and local rebates.</li>
      <li><strong>Your Utility Company Website:</strong> Search for "energy efficiency" or "rebates" section.</li>
      <li><strong>State Energy Office:</strong> Every state has energy office with program listings.</li>
      <li><strong>EnergySage:</strong> Solar rebate finder and comparison tool.</li>
      <li><strong>Rewiring America:</strong> IRA incentive calculator at rewiringamerica.org.</li>
    </ul>

    <h3>Federal Tax Credits (Available Nationwide)</h3>
    <ul>
      <li><strong>Solar Panels:</strong> 30% credit, no cap, through 2032 (26% in 2033, 22% in 2034).</li>
      <li><strong>Battery Storage:</strong> 30% credit for standalone batteries (3kWh minimum), new in 2023.</li>
      <li><strong>Geothermal Heat Pumps:</strong> 30% credit, no cap.</li>
      <li><strong>Air-Source Heat Pumps:</strong> 30% credit up to $2,000 per year.</li>
      <li><strong>Heat Pump Water Heaters:</strong> 30% credit up to $2,000 per year.</li>
      <li><strong>Insulation & Air Sealing:</strong> 30% credit up to $1,200 per year.</li>
      <li><strong>Windows & Doors:</strong> 30% credit up to $600/year windows, $500/year doors.</li>
      <li><strong>Electrical Panel Upgrade:</strong> 30% credit up to $600 for capacity upgrades.</li>
    </ul>

    <h3>Top State Rebate Programs</h3>
    <ul>
      <li><strong>California:</strong> SGIP battery rebates ($200-$350/kWh), TECH Clean California heat pumps ($1,000-$7,000).</li>
      <li><strong>New York:</strong> NY-Sun solar incentives ($0.30-$0.60/W), Clean Heat rebates ($500-$12,000).</li>
      <li><strong>Massachusetts:</strong> SMART solar program, Mass Save rebates (up to $10,000 for heat pumps).</li>
      <li><strong>Colorado:</strong> Sales tax exemption on solar equipment (saves $1,000-$3,000).</li>
      <li><strong>Oregon:</strong> Solar + storage rebates through Energy Trust ($500-$5,000).</li>
      <li><strong>New Jersey:</strong> NJ Clean Energy Program (solar, heat pumps, insulation - $500-$4,000).</li>
      <li><strong>Minnesota:</strong> Solar*Rewards rebates ($0.50-$0.75/W for solar).</li>
      <li><strong>Texas:</strong> Property tax exemption for solar (saves $200-$1,000/year).</li>
    </ul>

    <h3>Common Utility Rebates</h3>
    <ul>
      <li><strong>HVAC Upgrade:</strong> $300-$2,000 for high-efficiency AC, heat pumps, furnaces.</li>
      <li><strong>Smart Thermostat:</strong> $50-$200 for programmable or learning thermostats.</li>
      <li><strong>Insulation:</strong> $200-$1,500 for attic, wall, or basement insulation.</li>
      <li><strong>Windows:</strong> $50-$300 per window for ENERGY STAR-certified replacements.</li>
      <li><strong>Water Heater:</strong> $300-$1,000 for tankless or heat pump water heaters.</li>
      <li><strong>LED Lighting:</strong> Free or heavily discounted LED bulbs through utility programs.</li>
      <li><strong>Appliances:</strong> $50-$500 for ENERGY STAR refrigerators, washers, dryers.</li>
      <li><strong>Solar Panels:</strong> Some utilities offer $0.10-$0.50/W rebates on top of federal credit.</li>
    </ul>

    <h3>Low and Moderate Income Programs</h3>
    <ul>
      <li><strong>HOMES Rebate (Federal):</strong> Up to $8,000 for whole-home efficiency improvements (coming 2024-2025).</li>
      <li><strong>HEEHRA (Federal):</strong> Up to $14,000 total for heat pumps ($8,000), water heaters ($1,750), insulation ($1,600), etc.</li>
      <li><strong>Income Limits:</strong> Typically 80% area median income for basic; 150% for reduced rebates.</li>
      <li><strong>Weatherization Assistance Program (WAP):</strong> Free weatherization for very low-income households.</li>
      <li><strong>LIHEAP:</strong> Utility bill assistance for low-income families.</li>
    </ul>

    <h3>Property Tax Exemptions and Abatements</h3>
    <ul>
      <li><strong>Solar Property Tax Exemption:</strong> 30+ states exempt added solar value from property taxes.</li>
      <li><strong>Savings:</strong> $100-$800/year by not paying tax on $5,000-$40,000 system value.</li>
      <li><strong>Duration:</strong> Varies by state - some permanent, others 10-20 years.</li>
      <li><strong>Check Local Rules:</strong> City/county may have additional exemptions for green upgrades.</li>
    </ul>

    <h3>Municipal and Local Programs</h3>
    <ul>
      <li><strong>PACE Financing:</strong> Property Assessed Clean Energy loans in 38 states + DC.</li>
      <li><strong>Green Building Fee Waivers:</strong> Some cities waive permit fees for LEED/green-certified projects.</li>
      <li><strong>Expedited Permitting:</strong> Priority permitting for solar/efficiency projects in progressive cities.</li>
      <li><strong>Community Solar:</strong> Subscribe to local solar farm, get bill credits without rooftop panels.</li>
      <li><strong>Tree Planting Programs:</strong> Free or subsidized trees for shading/cooling in many cities.</li>
    </ul>

    <h3>Combining and Stacking Incentives</h3>
    <ul>
      <li><strong>Federal + State + Utility:</strong> Most rebates can be combined - reduce costs 40-60%.</li>
      <li><strong>Example: $20,000 Solar System</strong></li>
      <li>&nbsp;&nbsp;- Federal 30% Tax Credit: -$6,000</li>
      <li>&nbsp;&nbsp;- State Rebate: -$1,500</li>
      <li>&nbsp;&nbsp;- Utility Rebate: -$1,000</li>
      <li>&nbsp;&nbsp;- Property Tax Exemption: -$200/year</li>
      <li>&nbsp;&nbsp;- Net Cost: $11,500 (43% savings)</li>
      <li><strong>Timing:</strong> Apply for state/utility rebates first, then claim federal tax credit.</li>
    </ul>

    <h3>Application Process</h3>
    <ul>
      <li><strong>Research First:</strong> Find all available rebates before starting project.</li>
      <li><strong>Pre-Approval:</strong> Some programs require pre-approval before work begins.</li>
      <li><strong>Qualified Contractors:</strong> Many rebates require certified/licensed installers.</li>
      <li><strong>Product Requirements:</strong> Must meet ENERGY STAR or equivalent standards.</li>
      <li><strong>Documentation:</strong> Keep all receipts, invoices, manufacturer certifications.</li>
      <li><strong>Deadlines:</strong> Submit within required timeframe (often 90-180 days post-installation).</li>
      <li><strong>Follow-Up:</strong> Rebates can take 4-12 weeks to process, follow up if delayed.</li>
    </ul>

    <h3>Rebates by Upgrade Type</h3>
    <ul>
      <li><strong>Solar Panels:</strong> Highest total incentives ($6,000-$15,000 typical).</li>
      <li><strong>Heat Pumps:</strong> $2,000-$10,000 in stacked incentives (federal + state + utility).</li>
      <li><strong>Insulation:</strong> $1,200-$3,000 in combined rebates.</li>
      <li><strong>Windows:</strong> $600-$2,000 in combined incentives for whole-home replacement.</li>
      <li><strong>Water Heaters:</strong> $1,750-$3,500 for heat pump models.</li>
      <li><strong>Smart Home:</strong> $50-$500 for thermostats, LED upgrades.</li>
    </ul>

    <h3>How to Use This Finder</h3>
    <p>Enter your ZIP code, planned upgrade type, project cost, and household income. The calculator estimates available federal tax credits, typical state rebates for your region, utility incentives, and low-income program eligibility. It computes total incentives, net project cost, and ROI after rebates to maximize your savings.</p>
  `,
  },
  calculator: {
    fields: [
      {
        name: 'zipCode',
        label: 'ZIP Code',
        type: 'text',
        defaultValue: '94102',
      },
      {
        name: 'upgradeType',
        label: 'Type of Upgrade',
        type: 'select',
        options: [
          { value: 'Solar Panels', label: 'Solar Panels' },
          { value: 'Heat Pump HVAC', label: 'Heat Pump HVAC' },
          { value: 'Heat Pump Water Heater', label: 'Heat Pump Water Heater' },
          { value: 'Insulation', label: 'Insulation' },
          { value: 'Windows', label: 'Windows' },
          { value: 'Battery Storage', label: 'Battery Storage' },
          { value: 'Comprehensive Package', label: 'Comprehensive Package' }
        ],
        defaultValue: 'Solar Panels',
      },
      {
        name: 'projectCost',
        label: 'Total Project Cost ($)',
        type: 'number',
        defaultValue: 20000,
      },
      {
        name: 'householdIncome',
        label: 'Annual Household Income ($)',
        type: 'number',
        defaultValue: 75000,
      },
      {
        name: 'stateRebateEstimate',
        label: 'Estimated State Rebate ($)',
        type: 'number',
        defaultValue: 1500,
      },
      {
        name: 'utilityRebateEstimate',
        label: 'Estimated Utility Rebate ($)',
        type: 'number',
        defaultValue: 1000,
      },
    ],
    results: [],
    calculate: (values) => {
      const { upgradeType, projectCost, householdIncome, stateRebateEstimate, utilityRebateEstimate } = values;
      
      let federalCreditPercent = 30;
      let federalCreditCap = 999999;
      
      if (upgradeType === 'Insulation') {
        federalCreditCap = 1200;
      } else if (upgradeType === 'Windows') {
        federalCreditCap = 600;
      } else if (upgradeType === 'Heat Pump HVAC' || upgradeType === 'Heat Pump Water Heater') {
        federalCreditCap = 2000;
      }
      
      const federalTaxCredit = Math.min(projectCost * (federalCreditPercent / 100), federalCreditCap);
      
      let lowIncomeRebate = 0;
      const areaMedianIncome = 100000;
      
      if (householdIncome <= areaMedianIncome * 0.8) {
        if (upgradeType === 'Heat Pump HVAC') {
          lowIncomeRebate = Math.min(8000, projectCost * 0.5);
        } else if (upgradeType === 'Heat Pump Water Heater') {
          lowIncomeRebate = Math.min(1750, projectCost * 0.5);
        } else if (upgradeType === 'Insulation') {
          lowIncomeRebate = Math.min(1600, projectCost * 0.5);
        }
      }
      
      let propertyTaxSavings = 0;
      if (upgradeType === 'Solar Panels' || upgradeType === 'Battery Storage') {
        const solarValue = projectCost * 0.8;
        const propertyTaxRate = 0.012;
        propertyTaxSavings = solarValue * propertyTaxRate;
      }
      
      const totalFirstYearIncentives = federalTaxCredit + stateRebateEstimate + utilityRebateEstimate + lowIncomeRebate;
      const netProjectCost = projectCost - totalFirstYearIncentives;
      const totalSavingsPercent = (totalFirstYearIncentives / projectCost) * 100;
      
      const tenYearPropertyTaxSavings = propertyTaxSavings * 10;
      const totalTenYearIncentives = totalFirstYearIncentives + tenYearPropertyTaxSavings;

      return [
        { label: 'Project Cost', value: projectCost.toFixed(2), isCurrency: true },
        { label: 'Federal Tax Credit (30%)', value: federalTaxCredit.toFixed(2), isCurrency: true },
        { label: 'State Rebate (Estimated)', value: stateRebateEstimate.toFixed(2), isCurrency: true },
        { label: 'Utility Rebate (Estimated)', value: utilityRebateEstimate.toFixed(2), isCurrency: true },
        { label: 'Low-Income Rebate (if eligible)', value: lowIncomeRebate.toFixed(2), isCurrency: true },
        { label: 'Total First-Year Incentives', value: totalFirstYearIncentives.toFixed(2), isCurrency: true },
        { label: 'Net Project Cost', value: netProjectCost.toFixed(2), isCurrency: true },
        { label: 'Total Savings', value: `${totalSavingsPercent.toFixed(1)}%` },
        { label: 'Annual Property Tax Savings', value: propertyTaxSavings.toFixed(2), isCurrency: true },
        { label: '10-Year Property Tax Savings', value: tenYearPropertyTaxSavings.toFixed(2), isCurrency: true },
        { label: '10-Year Total Incentive Value', value: totalTenYearIncentives.toFixed(2), isCurrency: true },
        { label: 'Effective Net Cost (10-Year)', value: (projectCost - totalTenYearIncentives).toFixed(2), isCurrency: true },
      ];
    },
  },
};
