import { CalculatorContent } from "@/types";

export const jointVsSeparatePropertyMaritalCalculator: CalculatorContent = {
  title: "Joint vs. Separate Property (Marital) Calculator",
  description:
    "Compare the financial implications of holding marital property jointly versus separately. Understand tax benefits, liability, and estate planning considerations.",
  icon: "Icon",
  category: "Lifestyle & Housing",
  slug: "joint-vs-separate-property-marital-calculator",
  metaTitle: "Joint vs Separate Property Calculator | Marital Home Ownership Options",
  metaDescription: "Calculate the pros and cons of joint vs separate property ownership in marriage. Compare tax benefits, liability protection, and estate planning implications.",
  article: {
    title: "Joint vs. Separate Property Ownership in Marriage: What's Best for You?",
    content: `
# Understanding Marital Property Ownership: Joint vs. Separate

How married couples hold title to their home has significant financial, legal, and estate planning implications. While many couples default to joint ownership, separate or mixed ownership structures may better serve certain situations. This comprehensive guide explores all options to help you make an informed decision.

## Types of Marital Property Ownership

### Joint Tenancy with Right of Survivorship (JTWROS)
**How it works:**
- Both spouses own 100% of the property
- When one spouse dies, property automatically passes to survivor
- No probate required
- Cannot will your share to someone else

**Pros:**
- ✅ Automatic transfer upon death
- ✅ Avoids probate (saves time and money)
- ✅ Simple and straightforward
- ✅ Both spouses have equal rights

**Cons:**
- ❌ Cannot leave share to children or others
- ❌ Both liable for judgments against either spouse
- ❌ Requires both signatures for sale or refinance
- ❌ No control over where property goes

**Best for:**
- Second marriages with shared goals
- Couples wanting simplicity
- Young couples without estate planning concerns
- Couples in community property states

### Tenancy by the Entirety (TBE)
**How it works:**
- Special joint tenancy only for married couples
- Property owned as single unit
- Creditors of one spouse cannot attach lien (in most states)
- Right of survivorship included

**Pros:**
- ✅ Strong creditor protection
- ✅ Protects from one spouse's lawsuits/debts
- ✅ Right of survivorship
- ✅ Avoids probate

**Cons:**
- ❌ Only available in 25 states
- ❌ Both must sign for any transaction
- ❌ Terminates if divorce
- ❌ Cannot leave to children

**Best for:**
- Entrepreneurs/business owners (lawsuit protection)
- Medical professionals (malpractice protection)
- High-risk professions
- States that offer it

### Community Property
**How it works:**
- Available in 9 community property states
- Property acquired during marriage = 50/50 ownership
- Property owned before marriage = separate
- Can be "community property with right of survivorship"

**Pros:**
- ✅ Clear 50/50 division
- ✅ Step-up in basis for entire property upon death (huge tax benefit)
- ✅ Can add right of survivorship
- ✅ Protected from one spouse's debts

**Cons:**
- ❌ Only in specific states
- ❌ Complex rules about separate property
- ❌ May require both signatures for major decisions

**Community Property States:**
- Arizona, California, Idaho, Louisiana, Nevada, New Mexico, Texas, Washington, Wisconsin

**Best for:**
- Couples in community property states
- Estate tax planning
- Couples wanting clear 50/50 ownership

### Tenancy in Common (TIC)
**How it works:**
- Each spouse owns a specific % (can be unequal)
- Each can sell or will their share independently
- No right of survivorship
- Share passes via will or trust

**Pros:**
- ✅ Unequal ownership allowed
- ✅ Can leave share to children or others
- ✅ Flexibility in estate planning
- ✅ Can be used for separate property

**Cons:**
- ❌ No right of survivorship
- ❌ Share may go to someone you don't want (if no will)
- ❌ Probate required
- ❌ Complex estate planning needed

**Best for:**
- Second marriages with children from prior marriage
- Unequal financial contributions
- When one spouse owns property pre-marriage
- Estate planning with complex beneficiaries

### Separate Property (Sole Ownership)
**How it works:**
- Only one spouse owns the property
- Other spouse has no ownership interest
- Owner can sell without spouse's consent (mostly)
- Only owner liable for property debts

**Pros:**
- ✅ Complete control by owning spouse
- ✅ Protection from other spouse's creditors
- ✅ Preserves separate property status
- ✅ Simpler if one spouse has bad credit

**Cons:**
- ❌ Non-owner has no equity rights
- ❌ Non-owner not on title
- ❌ May still need spouse signature (state-dependent)
- ❌ Complicates divorce

**Best for:**
- Property owned before marriage
- Inheritance property
- Protection from spouse's bad credit/debts
- Business properties

## Tax Considerations

### Mortgage Interest Deduction
**Joint Ownership:**
- Can deduct on joint or separate returns
- $750,000 mortgage limit (combined)
- Both must be on mortgage to deduct (if filing separately)

**Separate Ownership:**
- Only owning spouse deducts
- Non-owner cannot deduct (even if paying)
- May limit total deduction on joint return

### Property Tax Deduction
**Joint or Separate:**
- $10,000 SALT cap applies regardless
- Both can deduct on joint return
- Separate returns more complex

### Capital Gains
**Joint Ownership:**
- $500,000 exclusion for married filing jointly
- Must meet ownership and use tests
- Both names on title helpful

**Separate Ownership:**
- Only $250,000 exclusion if file separately
- $500,000 if joint return and both meet tests
- Timing and use requirements critical

### Estate and Gift Tax
**Joint with Right of Survivorship:**
- 50% included in deceased's estate
- Surviving spouse gets 50% step-up in basis
- Unlimited marital deduction (no estate tax)

**Community Property:**
- 100% step-up in basis upon first death
- Huge tax savings on appreciated property
- Example: Buy for $200k, worth $800k, sell after death
  - Joint: Pay capital gains on $300k
  - Community property: Pay capital gains on $0

### Creditor Protection

**Joint Ownership:**
- Property vulnerable to either spouse's creditors
- Lawsuits, judgments, liens affect both
- Exception: Tenancy by entirety (in some states)

**Separate Ownership:**
- Only owning spouse's creditors can attach
- Non-owner spouse protected
- Still may need both signatures for refinance

## Life Event Considerations

### Divorce

**Joint Ownership:**
- Must be divided in divorce
- Either sell or one buys out other
- Equal split presumed (varies by state)

**Separate Ownership:**
- Remains with owning spouse
- May still be divided (community property states)
- Easier if one spouse keeping

### Death

**Joint with Survivorship:**
- Property passes automatically to survivor
- No probate needed
- Cannot leave to children

**Tenancy in Common:**
- Share passes via will
- Probate required
- Can leave to anyone

**Separate Property:**
- Passes according to will
- May cause issues if spouse expected to inherit

### Bankruptcy

**Joint Ownership:**
- Both spouses' bankruptcy exemptions apply
- May protect more equity
- If one files, may complicate situation

**Separate Ownership:**
- Only owner's exemption applies
- May be more vulnerable
- Depends on state law

## Real-World Scenarios

### Scenario 1: Second Marriage with Kids

**Situation:**
- Both have children from prior marriages
- Want to protect children's inheritance
- Current home worth $600k
- Each contributed $100k to purchase

**Best Option: Tenancy in Common (50/50)**
- Each owns 50%
- Each can leave their 50% to their children
- Requires estate planning
- May include agreement on buyout terms

### Scenario 2: Entrepreneur Spouse

**Situation:**
- One spouse runs business (lawsuit risk)
- Want to protect family home
- Live in state with Tenancy by Entirety

**Best Option: Tenancy by the Entirety**
- Protected from business creditors
- Only joint creditors can attach
- Both must sign for sale
- Automatic survivorship

### Scenario 3: One Spouse Bad Credit

**Situation:**
- One spouse has 780 credit score
- Other has 620 score from past bankruptcy
- Want best mortgage rate

**Best Option: Separate Property (high-credit spouse only)**
- Better interest rate
- Easier loan approval
- Add other spouse later (after credit repair)
- May need quitclaim deed

### Scenario 4: Young Couple, First Home

**Situation:**
- Both first-time buyers
- Similar incomes
- No kids yet
- Want simplicity

**Best Option: Joint Tenancy with Right of Survivorship**
- Simple and straightforward
- Automatic transfer if tragedy
- Equal ownership
- Can change later if needed

### Scenario 5: Inherited Property

**Situation:**
- Wife inherited home from parents
- Husband moving in after marriage
- Want to keep as wife's separate property
- But husband will contribute to upkeep

**Best Option: Separate Property + Written Agreement**
- Stays in wife's name only
- Agreement documents husband's contributions
- Consider future buyout terms
- Protects inheritance status

## State Law Matters

### Community Property States
**Presumption:** Property acquired during marriage = 50/50
**Separate Property:** Must be kept separate (don't commingle)
**Title:** What's on title may not match actual ownership

### Common Law States
**Presumption:** Title determines ownership
**Separate Property:** Easier to maintain
**Prenup/Postnup:** More important to define ownership

## How to Decide

### Questions to Ask:

1. **Is this a first or subsequent marriage?**
   - First → Joint often simplest
   - Second → Consider Tenancy in Common

2. **Do you have children from prior relationships?**
   - Yes → Tenancy in Common for estate planning
   - No → Joint with survivorship works

3. **Does either spouse have significant debts or lawsuit risk?**
   - Yes → Tenancy by Entirety or Separate Property
   - No → Joint ownership fine

4. **Is one spouse bringing property into marriage?**
   - Yes → Keep as Separate Property
   - No → Joint ownership makes sense

5. **Are you in a community property state?**
   - Yes → Community property may be best
   - No → More options available

6. **Do you have estate planning concerns?**
   - Complex → Tenancy in Common + Trust
   - Simple → Joint with survivorship

7. **Does one spouse have much better credit?**
   - Yes → Separate (better rates)
   - No → Joint ownership fine

## Changing Ownership Later

You can change how you hold title:

**Adding a Spouse:**
- Quitclaim deed or warranty deed
- May trigger gift tax considerations
- Check mortgage due-on-sale clause
- May need lender consent

**Removing a Spouse:**
- Requires spouse's consent
- Quitclaim deed
- Doesn't remove from mortgage obligation
- May need refinance

**Changing Type:**
- Record new deed with county
- Check state-specific requirements
- Consider tax implications
- Update estate plan accordingly

## Professional Guidance Needed

Consult:
- **Real Estate Attorney**: For deed and title issues
- **Estate Planning Attorney**: For will/trust coordination
- **CPA/Tax Professional**: For tax implications
- **Financial Planner**: For overall wealth strategy

Cost: $500-$2,000 well spent for proper setup

## Bottom Line

There's no one-size-fits-all answer. The best ownership structure depends on:
- Your marriage situation (first/second)
- Children and estate plans
- Asset protection needs
- State laws
- Tax considerations
- Future goals

Most young couples in first marriages do fine with simple Joint Tenancy with Right of Survivorship. But if you have:
- Second marriage
- Children from prior relationships
- Significant assets
- Lawsuit/creditor concerns
- Estate planning needs

Then more complex ownership structures may be worth the effort and cost to set up properly.

Use our calculator above to compare how different ownership structures would work for your specific situation.
    `,
  },
  calculator: {
    fields: [
      {
        name: "propertyValue",
        label: "Current Property Value",
        type: "number",
        defaultValue: "500000",
      },
      {
        name: "purchasePrice",
        label: "Original Purchase Price",
        type: "number",
        defaultValue: "400000",
      },
      {
        name: "spouse1Contribution",
        label: "Spouse 1 Down Payment Contribution",
        type: "number",
        defaultValue: "50000",
      },
      {
        name: "spouse2Contribution",
        label: "Spouse 2 Down Payment Contribution",
        type: "number",
        defaultValue: "50000",
      },
      {
        name: "mortgageBalance",
        label: "Current Mortgage Balance",
        type: "number",
        defaultValue: "300000",
      },
      {
        name: "yearsPurchased",
        label: "Years Since Purchase",
        type: "number",
        defaultValue: "5",
      },
      {
        name: "inCommunityPropertyState",
        label: "In Community Property State? (1=Yes, 0=No)",
        type: "number",
        defaultValue: "0",
      },
    ],
    results: [
      {
        label: "Total Home Equity",
        isCurrency: true,
      },
      {
        label: "Property Appreciation",
        isCurrency: true,
      },
      {
        label: "Joint Ownership - Each Spouse Gets",
        isCurrency: true,
      },
      {
        label: "Proportional - Spouse 1 Gets",
        isCurrency: true,
      },
      {
        label: "Proportional - Spouse 2 Gets",
        isCurrency: true,
      },
      {
        label: "Capital Gains Tax Savings (Community Property)",
        isCurrency: true,
      },
      {
        label: "Recommended Ownership Type",
        isCurrency: false,
      },
    ],
    calculate: (values) => {
      const {
        propertyValue,
        purchasePrice,
        spouse1Contribution,
        spouse2Contribution,
        mortgageBalance,
        yearsPurchased,
        inCommunityPropertyState,
      } = values;

      // Parse inputs
      const currentValue = parseFloat(propertyValue);
      const purchase = parseFloat(purchasePrice);
      const spouse1 = parseFloat(spouse1Contribution);
      const spouse2 = parseFloat(spouse2Contribution);
      const mortgage = parseFloat(mortgageBalance);
      const years = parseInt(yearsPurchased);
      const isCommunity = parseInt(inCommunityPropertyState);

      // Calculate equity and appreciation
      const totalEquity = currentValue - mortgage;
      const appreciation = currentValue - purchase;

      // Calculate joint ownership split (50/50)
      const jointSplit = totalEquity / 2;

      // Calculate proportional split based on down payment
      const totalContribution = spouse1 + spouse2;
      const spouse1Percent = spouse1 / totalContribution;
      const spouse2Percent = spouse2 / totalContribution;
      const spouse1Proportional = totalEquity * spouse1Percent;
      const spouse2Proportional = totalEquity * spouse2Percent;

      // Calculate capital gains tax savings in community property states
      // Community property gets 100% step-up vs 50% in joint tenancy
      const capitalGainsTaxRate = 0.15; // Federal long-term capital gains
      const jointTenancyBasis = purchase + (appreciation / 2); // 50% step-up
      const communityPropertyBasis = currentValue; // 100% step-up
      const jointGain = currentValue - jointTenancyBasis;
      const communityGain = 0; // No gain with full step-up
      const taxSavings = (jointGain - communityGain) * capitalGainsTaxRate;

      // Recommend ownership type
      let recommendation = "";
      if (isCommunity === 1) {
        recommendation = "Community Property with Right of Survivorship (tax benefits)";
      } else if (spouse1Contribution === spouse2Contribution) {
        recommendation = "Joint Tenancy with Right of Survivorship (equal contributions)";
      } else {
        const difference = Math.abs(spouse1 - spouse2);
        const percentDiff = (difference / totalContribution) * 100;
        if (percentDiff > 20) {
          recommendation = "Tenancy in Common (unequal contributions warrant proportional ownership)";
        } else {
          recommendation = "Joint Tenancy with Right of Survivorship (close enough to equal)";
        }
      }

      return [
        {
          label: "Total Home Equity",
          value: totalEquity.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Property Appreciation",
          value: appreciation.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Joint Ownership - Each Spouse Gets",
          value: jointSplit.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Proportional - Spouse 1 Gets",
          value: spouse1Proportional.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Proportional - Spouse 2 Gets",
          value: spouse2Proportional.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Capital Gains Tax Savings (Community Property)",
          value: isCommunity === 1 ? taxSavings.toFixed(2) : "N/A - Not in Community Property State",
          isCurrency: isCommunity === 1,
        },
        {
          label: "Recommended Ownership Type",
          value: recommendation,
          isCurrency: false,
        },
      ];
    },
  },
};
