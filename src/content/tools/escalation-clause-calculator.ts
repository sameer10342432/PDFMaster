import { CalculatorContent } from "@/types";

export const ESCALATION_CLAUSE_CALCULATOR_CONTENT: CalculatorContent = {
  title: "Escalation Clause Calculator | Auto-Bid Strategy for Home Offers",
  description:
    "Calculate the perfect escalation clause for your home offer. Automatically beat competing bids while protecting your maximum price. Win competitive offers strategically.",
  icon: "Icon",
  category: "Calculators",
  slug: "escalation-clause-calculator",
  article: {
    title: "Escalation Clause Calculator: Win Without Overpaying",
    content: `
# Escalation Clause Calculator: Strategic Bidding for Competitive Markets

An escalation clause is a powerful tool in competitive real estate markets that automatically increases your offer to beat competing bids‚Äîup to a maximum you set. This calculator helps you structure the perfect escalation clause to win the home while protecting your budget.

## What is an Escalation Clause?

An escalation clause (also called escalator clause) is an addendum to your purchase offer that states:

**"I offer $X and will beat any competing offer by $Y, up to a maximum of $Z"**

### Example:
- Base offer: $400,000
- Escalation amount: $5,000
- Maximum price: $450,000

**Translation**: "I offer $400,000, and if you receive higher offers, I'll pay $5,000 more than the highest offer, up to $450,000 maximum"

## How Escalation Clauses Work

### Scenario 1: No Competing Offers
- Your base offer: $400,000
- No other offers received
- **You pay**: $400,000 (your base offer)

### Scenario 2: Lower Competing Offer
- Your base offer: $400,000
- Competing offer: $395,000
- Your escalation: $5,000 above
- **You pay**: $400,000 (competing offer + $5,000 = $400,000, which equals your base)

### Scenario 3: Higher Competing Offer
- Your base offer: $400,000
- Competing offer: $415,000
- Your escalation: $5,000 above
- **You pay**: $420,000 ($415,000 + $5,000)

### Scenario 4: Competing Offer Above Your Maximum
- Your base offer: $400,000
- Competing offer: $455,000
- Your maximum: $450,000
- **Result**: You're out-bid. Your offer caps at $450,000

## Benefits of Escalation Clauses

### 1. Competitive Advantage
**Win without guessing**:
- Don't need to predict exact competing offer amounts
- Automatically stay competitive
- Show strong intent to seller

### 2. Budget Protection
**Don't overpay**:
- Only pay what's necessary to win
- If no competition, pay base offer
- Maximum cap protects from overbidding

### 3. Time Savings
**Avoid drawn-out negotiations**:
- No back-and-forth counters
- Faster decision for seller
- Clean, professional approach

### 4. Strategic Positioning
**Stand out from competition**:
- Shows sophistication
- Demonstrates seriousness
- Signals financial capability

## Drawbacks and Risks

### 1. Reveals Your Maximum
**Sellers know your top number**:
- Might use it to negotiate
- Could share with other buyers (rare but possible)
- Less room to negotiate if inspection issues found

### 2. Might Not Win
**Other factors matter**:
- Seller might choose cash offer
- Better terms from another buyer
- Personal appeal of another buyer

### 3. Complexity
**Requires proper documentation**:
- Must be written correctly
- Needs proof of competing offers
- Some agents unfamiliar with them

### 4. Market Perception
**Can signal desperation**:
- Sellers might hold out for maximum
- Other buyers might bid higher knowing competition

## Crafting the Perfect Escalation Clause

### Key Components

**1. Base Offer Price**
Your starting offer if no competition exists

**Best practice**:
- Start at or slightly above asking in hot markets
- Competitive baseline shows seriousness
- Don't lowball‚Äîundermines the strategy

**2. Escalation Amount**
How much above competing offers you'll go

**Common amounts**:
- $1,000-2,500: Tight market, odd amounts
- $2,500-5,000: Standard in most markets
- $5,000-10,000: Luxury homes, larger jumps
- $10,000+: High-end properties only

**Strategic thinking**:
- Smaller increments = more precise winning
- Odd amounts ($2,500, $3,500) beat round numbers
- Too small might not differentiate enough

**3. Maximum Price**
The absolute most you'll pay

**How to determine**:
- Your true budget ceiling
- Based on home value analysis
- Consider appraisal risk
- Leave room for closing costs

**4. Proof of Competing Offers**
Protection against seller manipulation

**Required documentation**:
"Escalation only applies upon receipt of bona fide written offer(s) with proof of competing offer price(s)"

**Acceptable proof**:
- Copy of competing offer (price page only)
- Written statement from seller's agent
- Signed affidavit of competing offers

### Template Language

"Buyer offers purchase price of $[BASE] and agrees to increase the purchase price by $[INCREMENT] above any bona fide competing offer up to a maximum purchase price of $[MAXIMUM], upon receipt of written proof of such competing offer(s)."

## Strategic Escalation Amounts

### Conservative Approach
- Base: At asking price
- Increment: $1,000-2,000
- Maximum: 5-10% above asking

**When to use**:
- Uncertain about competition level
- Budget-conscious
- Moderate market conditions

### Moderate Approach
- Base: 2-3% above asking
- Increment: $2,500-5,000
- Maximum: 10-15% above asking

**When to use**:
- Clearly competitive market
- Multiple showings observed
- Home priced fairly

### Aggressive Approach
- Base: 5%+ above asking
- Increment: $5,000-10,000
- Maximum: 15-20% above asking

**When to use**:
- Dream home, highly desirable
- Very competitive market
- Home underpriced
- Can afford to stretch

## Common Escalation Clause Mistakes

### Mistake #1: Setting Maximum Too Low
**Problem**: Get outbid even with escalation clause

**Solution**: Set maximum at true budget ceiling. If you're not comfortable going that high, you can't afford the home in this market.

### Mistake #2: Large Escalation Increments
**Problem**: Overpay by $10,000 when you only needed $1,000 more

**Solution**: Use smaller increments ($2,500-5,000 in most markets) to minimize overpayment.

### Mistake #3: No Proof Requirement
**Problem**: Unscrupulous sellers could falsely claim competing offers

**Solution**: Always require written proof of competing offers.

### Mistake #4: Forgetting Appraisal Risk
**Problem**: Escalated price exceeds appraisal value

**Solution**: 
- Build in appraisal gap coverage
- Or set maximum closer to likely appraisal
- Have cash reserves for gap

### Mistake #5: Using in Every Situation
**Problem**: Not all markets need escalation clauses

**Solution**: Only use in truly competitive situations with likely multiple offers.

## When to Use Escalation Clauses

### Good Situations:
‚úÖ Multiple offers expected/confirmed
‚úÖ Hot market with fast-selling homes
‚úÖ Home priced at/below market value
‚úÖ You're very serious about this specific home
‚úÖ You're financing allows price flexibility
‚úÖ You understand your true maximum price

### Bad Situations:
‚ùå Slow market, home sitting for months
‚ùå Overpriced listing
‚ùå You're unsure about the home
‚ùå Your financing is tight (won't appraise)
‚ùå You're already at absolute maximum budget
‚ùå Seller has stated "highest and best" with no counters

## Alternatives to Escalation Clauses

If escalation clause doesn't fit:

### 1. Clean, Strong Initial Offer
- Highest price you're willing to pay
- Minimal contingencies
- Seller-friendly terms
- Quick decision timeline

### 2. Best and Highest Immediately
- Go straight to maximum
- No games or waiting
- Take it or leave it approach

### 3. Terms Over Price
- Match price
- Beat on terms (timeline, contingencies, rent-back)
- Appeal to non-price motivations

### 4. Personal Appeal
- Heartfelt letter
- Connect with seller
- Share your story
- Build emotional connection

## Escalation Clause + Other Strategies

**Powerful combinations**:

### Escalation + Strong Terms
- Escalation clause for price
- Minimal contingencies
- Quick close
- Large earnest money
= **Very competitive offer**

### Escalation + Appraisal Gap Coverage
"Will escalate to $X and cover up to $Y appraisal gap"
= **Removes seller's appraisal concern**

### Escalation + Rent-Back
"Will escalate and offer 60-day free rent-back"
= **Solves seller's moving timeline**

### Escalation + Inspection Waiver
"Will escalate with informational inspection only"
= **Extremely competitive** (but risky!)

## State and Local Considerations

### Escalation Clause Acceptance
- **Widely accepted**: Most states
- **Common**: Competitive metro areas
- **Rare**: Rural markets, slow markets
- **Agent familiarity**: More common where hot markets exist

### Legal Requirements
- Must be in writing
- Part of original offer or addendum
- Signed by all parties
- Clear, unambiguous terms

## Calculating Your Numbers

### Step 1: Determine True Maximum
Your absolute ceiling considering:
- Pre-approval amount
- Comfortable monthly payment
- Down payment available
- Closing costs
- Appraisal concerns
- Moving/repair budget

### Step 2: Set Competitive Base
Research comparable sales:
- Recent similar home sales
- List price to sale price ratio
- Days on market
- Current competition level

Base offer should be:
- **Cold market**: 95-100% of asking
- **Normal market**: 100-102% of asking
- **Hot market**: 102-105% of asking

### Step 3: Choose Escalation Amount
Consider:
- Home price tier ($2,500 for $400k home)
- Competition level (higher if more buyers)
- Market norms (ask your agent)
- Psychological impact (odd numbers)

### Step 4: Calculate Maximum
Maximum = Base + reasonable escalation room
- Leave 10-15% gap between base and maximum
- Ensures flexibility without overpaying

## Example Calculations

### Example 1: Moderate Market
- Listing price: $350,000
- Base offer: $355,000 (just above asking)
- Escalation: $2,500
- Maximum: $385,000
- **Strategy**: Competitive start, reasonable ceiling

### Example 2: Hot Market
- Listing price: $500,000
- Base offer: $515,000 (3% over)
- Escalation: $5,000
- Maximum: $565,000
- **Strategy**: Aggressive positioning for desirable home

### Example 3: Luxury Market
- Listing price: $1,200,000
- Base offer: $1,225,000
- Escalation: $25,000
- Maximum: $1,350,000
- **Strategy**: Large increments appropriate for price tier

## Using This Calculator

**Enter your details**:
1. Listing price
2. Your base offer
3. Escalation increment
4. Your maximum price
5. Expected number of competing offers

**Calculator shows**:
1. **Likely final price** based on competition
2. **Price scenarios** for different competition levels
3. **Overpayment risk** vs straight offer
4. **Appraisal gap** concerns
5. **Strategic recommendations**

## Final Tips

### Do:
‚úÖ Get pre-approval for maximum amount
‚úÖ Research comparable sales thoroughly
‚úÖ Require proof of competing offers
‚úÖ Use realistic base offer (not lowball)
‚úÖ Set maximum at your TRUE ceiling
‚úÖ Combine with strong terms
‚úÖ Work with experienced agent

### Don't:
‚ùå Use if you're uncertain about home
‚ùå Set maximum you can't actually afford
‚ùå Use huge increments ($20,000+)
‚ùå Skip proof-of-offer requirement
‚ùå Forget about appraisal risk
‚ùå Use in every situation
‚ùå Reveal maximum in conversations

**Remember**: An escalation clause is a strategic tool, not a requirement. Only use it when it makes sense for your situation and market conditions. When used correctly, it can help you win the home you love at a fair price!
    `,
  },
  calculator: {
    fields: [
      {
        name: "listingPrice",
        label: "Listing Price ($)",
        type: "number",
        defaultValue: "400000",
      },
      {
        name: "baseOffer",
        label: "Your Base Offer ($)",
        type: "number",
        defaultValue: "405000",
      },
      {
        name: "escalationAmount",
        label: "Escalation Amount ($ above competing offers)",
        type: "number",
        defaultValue: "5000",
      },
      {
        name: "maximumPrice",
        label: "Maximum Price You'll Pay ($)",
        type: "number",
        defaultValue: "450000",
      },
      {
        name: "expectedOffers",
        label: "Expected Number of Competing Offers",
        type: "number",
        defaultValue: "3",
      },
      {
        name: "competingOfferEstimate",
        label: "Estimated Highest Competing Offer ($)",
        type: "number",
        defaultValue: "415000",
      },
    ],
    results: [
      {
        label: "Your Likely Final Price",
        isCurrency: true,
      },
      {
        label: "Escalation Clause Summary",
        isCurrency: false,
      },
      {
        label: "Price Scenarios",
        isCurrency: false,
      },
      {
        label: "Appraisal Risk Analysis",
        isCurrency: false,
      },
      {
        label: "Strategy Recommendation",
        isCurrency: false,
      },
    ],
    calculate: (values) => {
      const {
        listingPrice,
        baseOffer,
        escalationAmount,
        maximumPrice,
        expectedOffers,
        competingOfferEstimate,
      } = values;

      const listing = parseFloat(listingPrice);
      const base = parseFloat(baseOffer);
      const escalation = parseFloat(escalationAmount);
      const maximum = parseFloat(maximumPrice);
      const offers = parseInt(expectedOffers);
      const competing = parseFloat(competingOfferEstimate);

      let finalPrice = base;
      if (offers > 1) {
        const escalatedPrice = competing + escalation;
        finalPrice = Math.min(escalatedPrice, maximum);
      }

      const clauseSummary = `"I offer $${base.toLocaleString()} and will beat any competing offer by $${escalation.toLocaleString()}, up to a maximum of $${maximum.toLocaleString()}"`;

      const scenarios = `
üìä ESCALATION SCENARIOS:

If no competing offers:
  ‚Üí You pay: $${base.toLocaleString()} (your base offer)

If competing offer is $${(base - 10000).toLocaleString()}:
  ‚Üí You pay: $${base.toLocaleString()} (your base offer)

If competing offer is $${competing.toLocaleString()} (estimated):
  ‚Üí You pay: $${Math.min(competing + escalation, maximum).toLocaleString()}

If competing offer is $${(maximum - escalation + 1000).toLocaleString()}:
  ‚Üí You pay: $${maximum.toLocaleString()} (your maximum)

If competing offer is $${(maximum + 10000).toLocaleString()}:
  ‚Üí You're outbid (offer capped at $${maximum.toLocaleString()})
      `;

      const appraisalGap = finalPrice - listing;
      const appraisalGapPercent = (appraisalGap / listing) * 100;
      let appraisalRisk = "";
      
      if (appraisalGapPercent <= 3) {
        appraisalRisk = `‚úÖ LOW RISK: Final price is ${appraisalGapPercent.toFixed(1)}% above list. Should appraise fine.`;
      } else if (appraisalGapPercent <= 7) {
        appraisalRisk = `‚ö†Ô∏è MODERATE RISK: Final price is ${appraisalGapPercent.toFixed(1)}% above list. Have $${appraisalGap.toLocaleString()} cash ready for potential gap.`;
      } else if (appraisalGapPercent <= 12) {
        appraisalRisk = `‚ö†Ô∏è HIGH RISK: Final price is ${appraisalGapPercent.toFixed(1)}% above list. Appraisal gap of $${appraisalGap.toLocaleString()} likely. Consider appraisal gap coverage clause.`;
      } else {
        appraisalRisk = `‚ùå VERY HIGH RISK: Final price is ${appraisalGapPercent.toFixed(1)}% above list. Large appraisal gap ($${appraisalGap.toLocaleString()}+) almost certain. Need significant cash reserves.`;
      }

      let recommendation = "";
      const baseOverList = ((base - listing) / listing) * 100;
      const maxOverList = ((maximum - listing) / listing) * 100;
      
      if (baseOverList < 0) {
        recommendation = `‚ùå WEAK STRATEGY: Your base offer is ${Math.abs(baseOverList).toFixed(1)}% BELOW asking price. This undermines the escalation clause strategy. Recommendation: Start at least at asking price in competitive markets.`;
      } else if (escalation < 1000) {
        recommendation = `‚ö†Ô∏è RISKY: Your $${escalation.toLocaleString()} escalation might not be enough to differentiate from competing offers. Consider $2,500-$5,000 increments.`;
      } else if (escalation > 15000 && listing < 1000000) {
        recommendation = `‚ö†Ô∏è OVERPAYMENT RISK: Your $${escalation.toLocaleString()} increment is very large. You might overpay significantly. Consider $2,500-$5,000 for homes under $1M.`;
      } else if (maximum < base + escalation * 2) {
        recommendation = `‚ö†Ô∏è INSUFFICIENT ROOM: Gap between base ($${base.toLocaleString()}) and maximum ($${maximum.toLocaleString()}) is too small. Escalation clause may not be effective. Increase maximum or reconsider strategy.`;
      } else if (maxOverList > 20) {
        recommendation = `‚ö†Ô∏è EXPENSIVE: Your maximum is ${maxOverList.toFixed(1)}% above asking price. Ensure this aligns with home value and appraisal expectations. Have significant cash reserves ready.`;
      } else {
        recommendation = `‚úÖ SOLID STRATEGY: Your escalation clause is well-structured.\n\nüí° Tips:\n‚Ä¢ Require proof of competing offers in writing\n‚Ä¢ Consider adding: "and cover up to $${Math.min(20000, escalation * 2).toLocaleString()} appraisal gap"\n‚Ä¢ Combine with strong terms (quick close, minimal contingencies)\n‚Ä¢ Be prepared to pay $${finalPrice.toLocaleString()} based on expected competition\n‚Ä¢ Have $${Math.max(appraisalGap, 0).toLocaleString()} cash ready for potential appraisal gap`;
      }

      return [
        {
          label: "Your Likely Final Price",
          value: finalPrice.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Escalation Clause Summary",
          value: clauseSummary,
          isCurrency: false,
        },
        {
          label: "Price Scenarios",
          value: scenarios,
          isCurrency: false,
        },
        {
          label: "Appraisal Risk Analysis",
          value: appraisalRisk,
          isCurrency: false,
        },
        {
          label: "Strategy Recommendation",
          value: recommendation,
          isCurrency: false,
        },
      ];
    },
  },
};
