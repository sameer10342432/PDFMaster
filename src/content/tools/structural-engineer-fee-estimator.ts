import { CalculatorContent } from "@/types";

export const STRUCTURAL_ENGINEER_FEE_ESTIMATOR_CONTENT: CalculatorContent = {
  title: "Structural Engineer Fee Estimator",
  description: "Calculate structural engineering fees for residential and commercial projects including inspections and calculations.",
  icon: "üèóÔ∏è",
  category: "Home Improvement",
  slug: "structural-engineer-fee-estimator",
  article: {
    title: "Complete Guide to Structural Engineer Fees",
    content: `
      <h2>Understanding Structural Engineer Fees</h2>
      <p>
        Structural engineers play a critical role in ensuring building safety, code compliance, and structural integrity. Whether you're removing a load-bearing wall, adding a second story, designing a foundation, or addressing structural concerns, hiring a licensed structural engineer provides essential expertise and legal documentation required for permits and construction. Understanding structural engineering fees helps you budget appropriately for this vital professional service.
      </p>
      <p>
        Structural engineer fees typically range from $500 to $5,000 for residential projects and $3,000 to $100,000+ for commercial work, depending on project complexity, scope of services, and fee structure. These fees represent a small percentage of total construction costs but provide critical value through safety assurance, code compliance, and liability protection.
      </p>

      <h2>Structural Engineer Fee Structures</h2>

      <h3>1. Hourly Rate ($100-$350 per hour)</h3>
      <p>
        <strong>How it works:</strong> Engineer bills actual time spent on project analysis, calculations, drawings, and site visits.
      </p>
      <p>
        <strong>Typical rates by experience:</strong>
      </p>
      <ul>
        <li>Junior engineer: $100-$150 per hour</li>
        <li>Mid-level engineer: $150-$225 per hour</li>
        <li>Senior engineer/PE: $200-$300 per hour</li>
        <li>Principal/expert witness: $250-$350 per hour</li>
      </ul>
      <p>
        <strong>Best for:</strong> Consultations, inspections, undefined scope, expert witness work
      </p>

      <h3>2. Flat/Fixed Fee ($500-$10,000+)</h3>
      <p>
        <strong>How it works:</strong> Engineer quotes total fee for defined scope of work.
      </p>
      <p>
        <strong>Typical fees by project type:</strong>
      </p>
      <ul>
        <li>Load-bearing wall removal: $800-$2,500</li>
        <li>Foundation design: $1,500-$5,000</li>
        <li>Retaining wall design: $1,000-$3,000</li>
        <li>Deck/balcony design: $800-$2,500</li>
        <li>Home addition structural: $2,000-$8,000</li>
        <li>Full house plans (structural only): $3,000-$15,000</li>
      </ul>
      <p>
        <strong>Best for:</strong> Standard residential projects with well-defined scope
      </p>

      <h3>3. Percentage of Construction Cost (1-4%)</h3>
      <p>
        <strong>How it works:</strong> Engineer charges percentage of total construction budget, common for larger commercial projects.
      </p>
      <p>
        <strong>Typical percentages:</strong>
      </p>
      <ul>
        <li>Residential projects: 1-2% of construction cost</li>
        <li>Commercial buildings: 1.5-3% of construction cost</li>
        <li>Complex/institutional: 2-4% of construction cost</li>
      </ul>
      <p>
        <strong>Best for:</strong> Large commercial projects, ground-up construction, complex renovations
      </p>

      <h3>4. Per Square Foot ($0.50-$5 per sq ft)</h3>
      <p>
        <strong>How it works:</strong> Engineer charges based on building square footage.
      </p>
      <p>
        <strong>Typical rates:</strong>
      </p>
      <ul>
        <li>Simple residential: $0.50-$1.50 per sq ft</li>
        <li>Custom residential: $1-$3 per sq ft</li>
        <li>Light commercial: $1.50-$3 per sq ft</li>
        <li>Complex commercial: $2.50-$5 per sq ft</li>
      </ul>
      <p>
        <strong>Best for:</strong> New construction, additions with straightforward structural requirements
      </p>

      <h2>Common Structural Engineering Services and Costs</h2>

      <h3>Residential Services</h3>

      <h4>Load-Bearing Wall Removal ($800-$2,500)</h4>
      <p>
        Includes site visit, structural calculations, beam sizing, foundation assessment, and stamped drawings showing beam installation details. Required for building permits.
      </p>

      <h4>Foundation Design ($1,500-$5,000)</h4>
      <p>
        Complete foundation engineering for new construction or additions. Includes soil report review, foundation type selection, structural calculations, and detailed drawings. Cost varies by foundation complexity (slab, crawlspace, basement) and soil conditions.
      </p>

      <h4>Retaining Wall Engineering ($1,000-$3,500)</h4>
      <p>
        Design for retaining walls over 4 feet high (typically permit-required height). Includes soil pressure calculations, wall sizing, drainage design, and stamped drawings. Taller walls and poor soil conditions increase fees.
      </p>

      <h4>Second Story Addition Structural ($3,000-$10,000)</h4>
      <p>
        Comprehensive structural design including existing foundation capacity analysis, new floor framing, roof modification, and any required foundation strengthening. Larger additions and older homes increase complexity and cost.
      </p>

      <h4>Deck and Patio Engineering ($800-$2,500)</h4>
      <p>
        Elevated deck or covered patio structural design. Includes ledger attachment details, beam and post sizing, foundation design, and stamped drawings. Larger decks and higher elevations increase fees.
      </p>

      <h4>Structural Inspection/Assessment ($300-$1,200)</h4>
      <p>
        Visual inspection with written report identifying structural deficiencies, foundation issues, or safety concerns. Common during home purchase due diligence or when structural problems are suspected.
      </p>

      <h3>Commercial Services</h3>

      <h4>Commercial Building Structural Design (1.5-3% of construction)</h4>
      <p>
        Complete structural engineering for new commercial construction. Includes foundation design, structural framing system, lateral (wind/seismic) design, roof structure, and coordination with architect and MEP engineers.
      </p>

      <h4>Commercial Tenant Improvement ($2,000-$15,000)</h4>
      <p>
        Structural modifications for tenant build-outs. May include new openings, mezzanines, equipment supports, or partition load analysis. Fees vary widely based on scope.
      </p>

      <h4>Seismic Retrofit Engineering ($5,000-$50,000+)</h4>
      <p>
        Structural upgrades to meet current seismic codes. Common for older buildings in earthquake-prone regions. Extensive analysis and design required, with fees proportional to building size and retrofit complexity.
      </p>

      <h2>Factors Affecting Structural Engineer Fees</h2>

      <h3>1. Project Complexity</h3>
      <ul>
        <li><strong>Simple:</strong> Standard beam calculation, typical foundation (low fees)</li>
        <li><strong>Moderate:</strong> Multiple structural elements, some custom design (mid-range fees)</li>
        <li><strong>Complex:</strong> Unique structural systems, difficult conditions, extensive calculations (high fees)</li>
      </ul>

      <h3>2. Existing Conditions</h3>
      <ul>
        <li>New construction: Straightforward design process</li>
        <li>Existing buildings: Requires field verification, unknown condition assessment</li>
        <li>Historic buildings: Additional care and specialized techniques required</li>
        <li>Poor soil conditions: Requires more extensive foundation design</li>
      </ul>

      <h3>3. Code Requirements</h3>
      <ul>
        <li>Standard residential codes: Well-established design approaches</li>
        <li>High seismic zones: Extensive lateral force calculations required</li>
        <li>High wind zones: Additional wind load analysis</li>
        <li>Special occupancy codes: Healthcare, schools, etc. have stricter requirements</li>
      </ul>

      <h3>4. Project Size</h3>
      <p>
        Larger projects cost more in absolute dollars but less per square foot due to economies of scale. A 200 sq ft addition might cost $2,000 ($10/sq ft) while a 2,000 sq ft addition might cost $8,000 ($4/sq ft).
      </p>

      <h3>5. Geographic Location</h3>
      <ul>
        <li>Major metro areas: $150-$300/hour typical</li>
        <li>Mid-size cities: $125-$225/hour</li>
        <li>Rural areas: $100-$175/hour (but fewer engineers available)</li>
      </ul>

      <h2>What's Included in Structural Engineering Fees</h2>

      <h3>Typical Deliverables</h3>
      <ul>
        <li><strong>Calculations:</strong> Detailed engineering calculations documenting structural adequacy</li>
        <li><strong>Drawings:</strong> Structural plans showing framing, foundations, connections, and details</li>
        <li><strong>Specifications:</strong> Materials and construction requirements</li>
        <li><strong>Stamped/sealed documents:</strong> Professional engineer seal required for permits</li>
        <li><strong>Site visits:</strong> Initial assessment (1-2 visits typically included)</li>
      </ul>

      <h3>Additional Services (Often Extra)</h3>
      <ul>
        <li>Extensive site visits during construction</li>
        <li>Construction observation and progress inspections</li>
        <li>Response to contractor RFIs (requests for information)</li>
        <li>Revision drawings beyond normal scope</li>
        <li>Expert witness services for disputes</li>
        <li>Additional analyses (vibration, deflection, etc.)</li>
      </ul>

      <h2>When You Need a Structural Engineer</h2>

      <h3>Legally Required Situations</h3>
      <ul>
        <li>Removing or modifying load-bearing walls</li>
        <li>Adding second stories or significant additions</li>
        <li>New foundations or foundation modifications</li>
        <li>Retaining walls over 4 feet high (varies by jurisdiction)</li>
        <li>Large decks or elevated structures</li>
        <li>Any commercial construction or major renovation</li>
        <li>Seismic or wind retrofits</li>
      </ul>

      <h3>Recommended (Though Not Always Required)</h3>
      <ul>
        <li>Foundation cracks or settlement concerns</li>
        <li>Sagging floors or ceiling/roof concerns</li>
        <li>Home purchase inspections revealing structural issues</li>
        <li>Before major renovations to verify structural capacity</li>
        <li>Installation of heavy equipment (spas, safes, etc.)</li>
      </ul>

      <h2>Working with a Structural Engineer</h2>

      <h3>Step 1: Define Your Project</h3>
      <p>
        Clearly describe what you want to accomplish:
      </p>
      <ul>
        <li>Specific structural elements being modified</li>
        <li>Location and dimensions</li>
        <li>Intended use and loading</li>
        <li>Timeline and permit requirements</li>
        <li>Budget constraints</li>
      </ul>

      <h3>Step 2: Find Qualified Engineers</h3>
      <ul>
        <li>Verify Professional Engineer (PE) license in your state</li>
        <li>Check specialty (structural engineering)</li>
        <li>Request references from similar projects</li>
        <li>Verify professional liability insurance</li>
        <li>Interview 2-3 engineers for significant projects</li>
      </ul>

      <h3>Step 3: Understand the Proposal</h3>
      <p>
        Engineer proposal should clearly state:
      </p>
      <ul>
        <li>Scope of services and deliverables</li>
        <li>Fee structure and total cost (or estimate)</li>
        <li>Payment schedule</li>
        <li>Timeline for completion</li>
        <li>What is NOT included</li>
        <li>Assumptions about existing conditions</li>
      </ul>

      <h3>Step 4: Provide Site Access and Information</h3>
      <ul>
        <li>Allow engineer access for site visits</li>
        <li>Provide original building plans if available</li>
        <li>Share information about previous work or modifications</li>
        <li>Disclose known problems or concerns</li>
        <li>Obtain geotechnical (soil) reports if required</li>
      </ul>

      <h2>Frequently Asked Questions</h2>

      <h3>Do I need a structural engineer or can my architect handle it?</h3>
      <p>
        Architects typically collaborate with structural engineers on projects requiring structural design. While some architects have structural knowledge, most aren't licensed Professional Engineers and cannot stamp/seal structural drawings. For anything beyond minor non-structural work, you need a PE-stamped structural design.
      </p>

      <h3>How long does structural engineering take?</h3>
      <p>
        Simple projects (single beam calculation): 1-2 weeks<br>
        Moderate projects (foundation, addition): 2-4 weeks<br>
        Complex projects (full building): 4-12+ weeks<br>
        Timeline depends on engineer workload, project complexity, and information availability.
      </p>

      <h3>Will the engineer visit my site during construction?</h3>
      <p>
        Initial assessment site visits are typically included. Construction observation visits are usually additional services charged hourly. Many engineers recommend periodic site visits to verify proper installation of critical structural elements.
      </p>

      <h3>What if the engineer finds problems with my existing structure?</h3>
      <p>
        Engineers must report structural deficiencies discovered during their work. Addressing these issues may increase project scope and cost but is necessary for safety and code compliance. Some "existing nonconforming" conditions may be grandfathered if not modified.
      </p>

      <h3>Can I use structural engineer drawings from another state?</h3>
      <p>
        No‚Äîengineers must be licensed in the state where the project is located. Building codes, wind loads, seismic requirements, and soil conditions vary by location. Out-of-state engineers can sometimes obtain reciprocal licensure but the design must comply with local codes.
      </p>

      <h3>What's the difference between structural and civil engineer?</h3>
      <p>
        Structural engineers specialize in building structures, load-bearing systems, and foundations. Civil engineers focus on infrastructure (roads, bridges, utilities, site work). Some overlap exists‚Äîboth can design retaining walls, for example‚Äîbut hire the specialist matching your primary need.
      </p>

      <h2>Cost-Saving Tips</h2>

      <h3>1. Provide Complete Information Upfront</h3>
      <p>
        Give engineer all available drawings, reports, and project details at the start. Missing information causes delays and additional billable hours.
      </p>

      <h3>2. Consider Standard Solutions</h3>
      <p>
        Standard beam sizes, typical foundations, and conventional construction methods cost less to engineer than custom solutions. Discuss cost-effective approaches with your engineer.
      </p>

      <h3>3. Bundle Multiple Items</h3>
      <p>
        If you have several structural needs, address them in one project rather than piecemeal. Engineers can often provide package pricing.
      </p>

      <h3>4. Hire Early in Planning</h3>
      <p>
        Involving engineer during initial planning prevents costly redesigns later. Early structural input helps architects and designers create feasible, cost-effective solutions.
      </p>

      <h2>Conclusion</h2>
      <p>
        Structural engineering fees represent a small percentage of construction costs but provide essential value through safety assurance, code compliance, professional liability protection, and optimized structural solutions. Understanding fee structures, typical costs, and when structural engineering is required helps you budget appropriately and select qualified professionals.
      </p>
      <p>
        Use this calculator to estimate structural engineering fees for your project. Always verify engineer credentials, get clear written proposals, and understand what is and isn't included in the fee. Investing in qualified structural engineering protects your property investment and ensures the safety of building occupants for decades to come.
      </p>
    `,
  },
  calculator: {
    fields: [
      {
        name: "projectType",
        label: "Project Type",
        type: "select",
        options: [
          { value: "wallRemoval", label: "Load-Bearing Wall Removal" },
          { value: "foundation", label: "Foundation Design" },
          { value: "addition", label: "Home Addition" },
          { value: "secondStory", label: "Second Story Addition" },
          { value: "deck", label: "Deck/Patio Design" },
          { value: "retainingWall", label: "Retaining Wall" },
          { value: "inspection", label: "Structural Inspection" },
          { value: "commercial", label: "Commercial Building" },
        ],
        defaultValue: "wallRemoval",
      },
      {
        name: "complexity",
        label: "Project Complexity",
        type: "select",
        options: [
          { value: "simple", label: "Simple/Straightforward" },
          { value: "moderate", label: "Moderate Complexity" },
          { value: "complex", label: "Complex/Difficult" },
        ],
        defaultValue: "moderate",
      },
      {
        name: "feeStructure",
        label: "Fee Structure",
        type: "select",
        options: [
          { value: "flatFee", label: "Flat Fee (Typical)" },
          { value: "hourly", label: "Hourly Rate" },
          { value: "percentage", label: "% of Construction Cost" },
        ],
        defaultValue: "flatFee",
      },
      {
        name: "engineerLevel",
        label: "Engineer Experience",
        type: "select",
        options: [
          { value: "junior", label: "Junior Engineer ($100-150/hr)" },
          { value: "midLevel", label: "Mid-Level ($150-225/hr)" },
          { value: "senior", label: "Senior PE ($200-300/hr)" },
        ],
        defaultValue: "midLevel",
      },
      {
        name: "estimatedHours",
        label: "Estimated Hours (for hourly)",
        type: "number",
        defaultValue: 10,
      },
      {
        name: "constructionCost",
        label: "Construction Budget (for %) ($)",
        type: "number",
        defaultValue: 50000,
      },
      {
        name: "siteVisits",
        label: "Additional Site Visits",
        type: "number",
        defaultValue: 0,
      },
    ],
    results: [],
    calculate: (values) => {
      const { projectType, complexity, feeStructure, engineerLevel, estimatedHours, constructionCost, siteVisits } = values;
      
      let hourlyRate = 175;
      if (engineerLevel === 'junior') hourlyRate = 125;
      if (engineerLevel === 'midLevel') hourlyRate = 175;
      if (engineerLevel === 'senior') hourlyRate = 250;
      
      let baseFee = 0;
      let feeDescription = '';
      
      if (feeStructure === 'flatFee') {
        if (projectType === 'wallRemoval') baseFee = 1500;
        if (projectType === 'foundation') baseFee = 3000;
        if (projectType === 'addition') baseFee = 4500;
        if (projectType === 'secondStory') baseFee = 6500;
        if (projectType === 'deck') baseFee = 1500;
        if (projectType === 'retainingWall') baseFee = 2000;
        if (projectType === 'inspection') baseFee = 750;
        if (projectType === 'commercial') baseFee = 15000;
        
        if (complexity === 'simple') baseFee *= 0.75;
        if (complexity === 'complex') baseFee *= 1.4;
        
        if (engineerLevel === 'junior') baseFee *= 0.8;
        if (engineerLevel === 'senior') baseFee *= 1.2;
        
        feeDescription = 'Flat fee for project';
      } else if (feeStructure === 'hourly') {
        baseFee = hourlyRate * estimatedHours;
        feeDescription = `${estimatedHours} hours @ $${hourlyRate}/hr`;
      } else {
        const percentage = projectType === 'commercial' ? 2.5 : 1.5;
        baseFee = (constructionCost * percentage) / 100;
        feeDescription = `${percentage}% of $${constructionCost.toLocaleString()} construction cost`;
      }
      
      const siteVisitCost = siteVisits * hourlyRate * 2;
      const stamping = projectType === 'inspection' ? 0 : 150;
      const totalFee = baseFee + siteVisitCost + stamping;

      return [
        { label: "Base Engineering Fee", value: `$${baseFee.toLocaleString('en-US', { maximumFractionDigits: 0 })}` },
        { label: "Fee Structure", value: feeDescription },
        ...(siteVisits > 0 ? [
          { label: `Additional Site Visits (${siteVisits})`, value: `$${siteVisitCost.toLocaleString('en-US', { maximumFractionDigits: 0 })}` },
        ] : []),
        ...(stamping > 0 ? [
          { label: "Plan Stamping/Sealing", value: `$${stamping.toLocaleString('en-US', { maximumFractionDigits: 0 })}` },
        ] : []),
        { label: "Total Estimated Fee", value: `$${totalFee.toLocaleString('en-US', { maximumFractionDigits: 0 })}` },
      ];
    },
  },
};
