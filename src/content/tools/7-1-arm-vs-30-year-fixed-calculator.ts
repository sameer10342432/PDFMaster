import { CalculatorContent } from '@/types';

export const ARM_7_1_VS_30_YEAR_FIXED_CALCULATOR_CONTENT: CalculatorContent = {
  title: '7/1 ARM vs. 30-Year Fixed Mortgage Calculator',
  description: 'Compare a 7/1 adjustable-rate mortgage (ARM) with a 30-year fixed-rate mortgage to see which loan saves you more money over your planned ownership period.',
  icon: 'Icon',
  category: 'Mortgage',
  slug: '7-1-arm-vs-30-year-fixed-calculator',
  article: {
    title: "7/1 ARM vs. 30-Year Fixed Mortgage: Complete Comparison Guide",
    content: `
    <h2>Understanding 7/1 ARM vs. 30-Year Fixed Mortgages</h2>
    <p>The 7/1 ARM offers a longer initial fixed-rate period compared to the 5/1 ARM, providing 7 years of payment stability before annual adjustments begin. This calculator helps you compare the 7/1 ARM with a traditional 30-year fixed mortgage to determine which option aligns with your financial goals and timeline.</p>

    <h3>What is a 7/1 ARM?</h3>
    <p>A 7/1 adjustable-rate mortgage maintains a fixed interest rate for the first 7 years of the loan, then adjusts annually for the remaining 23 years. The "7" represents the initial fixed-rate period in years, and the "1" represents the annual adjustment frequency after that period ends.</p>

    <h3>Advantages of a 7/1 ARM Over a 5/1 ARM</h3>
    <ul>
      <li><strong>Extended Stability:</strong> 7 years of predictable payments vs. 5 years with a 5/1 ARM</li>
      <li><strong>More Time to Build Equity:</strong> Two additional years of consistent payments before adjustments</li>
      <li><strong>Better for Medium-Term Owners:</strong> Ideal if you plan to stay 7-10 years vs. 5-7 years</li>
      <li><strong>Still Lower Than Fixed:</strong> Initial rates typically 0.25% to 1.0% lower than 30-year fixed</li>
      <li><strong>Rate Cap Protection:</strong> Same cap structure as other ARMs (initial, periodic, lifetime caps)</li>
    </ul>

    <h3>7/1 ARM vs. 30-Year Fixed: Key Differences</h3>
    <table>
      <tr>
        <th>Feature</th>
        <th>7/1 ARM</th>
        <th>30-Year Fixed</th>
      </tr>
      <tr>
        <td>Initial Rate</td>
        <td>Lower (typically 0.5-1% less)</td>
        <td>Higher but guaranteed</td>
      </tr>
      <tr>
        <td>Payment Stability</td>
        <td>84 months (7 years)</td>
        <td>360 months (30 years)</td>
      </tr>
      <tr>
        <td>Rate Risk</td>
        <td>Exposure after year 7</td>
        <td>No rate risk</td>
      </tr>
      <tr>
        <td>Best For</td>
        <td>7-10 year homeowners</td>
        <td>Long-term homeowners</td>
      </tr>
      <tr>
        <td>Monthly Savings</td>
        <td>$100-$400/month (years 1-7)</td>
        <td>$0 (but payment never changes)</td>
      </tr>
    </table>

    <h3>Who Should Choose a 7/1 ARM?</h3>
    <p>A 7/1 ARM is ideal for borrowers who:</p>
    <ul>
      <li>Plan to sell or refinance within 7-10 years</li>
      <li>Expect significant income growth over the next decade</li>
      <li>Want lower payments now to invest, save, or pay off other debts</li>
      <li>Are confident they can handle potential payment increases after year 7</li>
      <li>Believe interest rates will remain stable or decrease in the future</li>
      <li>Need a lower payment to qualify for their desired loan amount</li>
    </ul>

    <h3>Who Should Choose a 30-Year Fixed Mortgage?</h3>
    <p>Stick with a 30-year fixed if you:</p>
    <ul>
      <li>Plan to own the home for 15+ years or indefinitely</li>
      <li>Prioritize budget certainty and payment predictability</li>
      <li>Are risk-averse and want protection from rising rates</li>
      <li>Have a fixed income or limited flexibility for payment increases</li>
      <li>Don't want to worry about refinancing in 7 years</li>
    </ul>

    <h3>Real-World Example: $500,000 Loan</h3>
    <p><strong>Scenario:</strong> You borrow $500,000 with a 7/1 ARM at 6.25% vs. a 30-year fixed at 7.00%</p>
    <ul>
      <li><strong>7/1 ARM Payment (Years 1-7):</strong> $3,078/month</li>
      <li><strong>30-Year Fixed Payment:</strong> $3,327/month</li>
      <li><strong>Monthly Savings with ARM:</strong> $249</li>
      <li><strong>Total Savings Over 7 Years:</strong> $20,916</li>
    </ul>
    <p>If rates increase to 8% after year 7, your ARM payment would jump to approximately $3,600/month. However, if you refinance or sell before year 7, you keep the full $20,916 in savings.</p>

    <h3>Understanding Rate Adjustment Caps</h3>
    <p>7/1 ARMs have three types of caps to protect you from extreme rate increases:</p>
    <ul>
      <li><strong>Initial Cap:</strong> Limits the first adjustment (usually 2-5%). Example: If your starting rate is 6% and the cap is 2%, the maximum rate at year 8 is 8%.</li>
      <li><strong>Periodic Cap:</strong> Limits each subsequent annual adjustment (usually 2%). Your rate can't increase more than 2% per year after the initial adjustment.</li>
      <li><strong>Lifetime Cap:</strong> Maximum rate over the loan's life (usually 5-6% above the start rate). If you start at 6% with a 5% lifetime cap, the maximum rate is 11%.</li>
    </ul>

    <h3>Break-Even Analysis</h3>
    <p>The break-even point is when total costs equalize between both loans. For most borrowers, the break-even point occurs between years 8-12. If you sell or refinance before the break-even point, the ARM saves money. If you stay beyond it, the fixed mortgage may be cheaper.</p>

    <h3>Refinance Strategy</h3>
    <p>Many 7/1 ARM borrowers plan to refinance before year 7 to lock in a new fixed rate or another ARM. This strategy works well if:</p>
    <ul>
      <li>Interest rates remain stable or fall during the initial 7-year period</li>
      <li>Your credit score improves, qualifying you for better rates</li>
      <li>Your home value increases, giving you more equity and eliminating PMI</li>
      <li>Refinancing costs are reasonable (typically 2-5% of the loan amount)</li>
    </ul>

    <h3>How to Use This Calculator</h3>
    <p>Input your loan amount, the 7/1 ARM initial rate, the 30-year fixed rate, and your estimated future ARM rate after year 7. The calculator will show you:</p>
    <ul>
      <li>Monthly payment comparison for years 1-7</li>
      <li>Estimated ARM payment after the first adjustment</li>
      <li>Total interest paid with each loan option</li>
      <li>Cumulative savings or costs over your planned ownership period</li>
      <li>Personalized recommendation based on your timeline</li>
    </ul>
  `,
  },
  calculator: {
    fields: [
      {
        name: 'loanAmount',
        label: 'Loan Amount ($)',
        type: 'number',
        defaultValue: 500000,
      },
      {
        name: 'armRate',
        label: '7/1 ARM Initial Rate (%)',
        type: 'number',
        defaultValue: 6.25,
      },
      {
        name: 'fixedRate',
        label: '30-Year Fixed Rate (%)',
        type: 'number',
        defaultValue: 7.0,
      },
      {
        name: 'armRateAfterAdjustment',
        label: 'ARM Rate After Year 7 (Estimate %)',
        type: 'number',
        defaultValue: 7.75,
      },
      {
        name: 'yearsInHome',
        label: 'How Long You Plan to Stay (Years)',
        type: 'number',
        defaultValue: 10,
      },
    ],
    results: [
      { label: '7/1 ARM Initial Monthly Payment', isCurrency: true },
      { label: '30-Year Fixed Monthly Payment', isCurrency: true },
      { label: 'Monthly Savings with ARM (Years 1-7)', isCurrency: true },
      { label: 'ARM Payment After Adjustment (Year 8+)', isCurrency: true },
      { label: 'Total Interest Paid - 7/1 ARM', isCurrency: true },
      { label: 'Total Interest Paid - 30-Year Fixed', isCurrency: true },
      { label: 'Total Savings Over Your Timeline', isCurrency: true },
      { label: 'Recommended Option', isCurrency: false },
    ],
    calculate: (values) => {
      const { loanAmount, armRate, fixedRate, armRateAfterAdjustment, yearsInHome } = values;
      
      // 7/1 ARM calculations (initial 7 years)
      const armMonthlyRate = armRate / 100 / 12;
      const totalPayments = 30 * 12;
      const armInitialPayment = loanAmount * (armMonthlyRate * Math.pow(1 + armMonthlyRate, totalPayments)) / (Math.pow(1 + armMonthlyRate, totalPayments) - 1);
      
      // 30-Year Fixed calculations
      const fixedMonthlyRate = fixedRate / 100 / 12;
      const fixedPayment = loanAmount * (fixedMonthlyRate * Math.pow(1 + fixedMonthlyRate, totalPayments)) / (Math.pow(1 + fixedMonthlyRate, totalPayments) - 1);
      
      // Monthly savings during initial period
      const monthlySavings = fixedPayment - armInitialPayment;
      
      // ARM balance after 7 years
      let armBalance = loanAmount;
      for (let i = 0; i < 84; i++) {
        const interest = armBalance * armMonthlyRate;
        const principal = armInitialPayment - interest;
        armBalance -= principal;
      }
      
      // ARM payment after adjustment
      const adjustedArmRate = armRateAfterAdjustment / 100 / 12;
      const remainingMonths = 23 * 12;
      const armAdjustedPayment = armBalance * (adjustedArmRate * Math.pow(1 + adjustedArmRate, remainingMonths)) / (Math.pow(1 + adjustedArmRate, remainingMonths) - 1);
      
      // Calculate total interest paid based on years in home
      let armTotalInterest = 0;
      let fixedTotalInterest = 0;
      
      const monthsInHome = yearsInHome * 12;
      let armBalanceTracking = loanAmount;
      let fixedBalanceTracking = loanAmount;
      
      for (let month = 1; month <= monthsInHome; month++) {
        // ARM interest
        if (month <= 84) {
          const armInterest = armBalanceTracking * armMonthlyRate;
          armTotalInterest += armInterest;
          armBalanceTracking -= (armInitialPayment - armInterest);
        } else {
          const armInterest = armBalanceTracking * adjustedArmRate;
          armTotalInterest += armInterest;
          armBalanceTracking -= (armAdjustedPayment - armInterest);
        }
        
        // Fixed interest
        const fixedInterest = fixedBalanceTracking * fixedMonthlyRate;
        fixedTotalInterest += fixedInterest;
        fixedBalanceTracking -= (fixedPayment - fixedInterest);
      }
      
      const totalSavings = fixedTotalInterest - armTotalInterest;
      const recommendation = totalSavings > 0 ? "7/1 ARM saves you money" : "30-Year Fixed is better";
      
      return [
        { label: '7/1 ARM Initial Monthly Payment', value: armInitialPayment.toFixed(2), isCurrency: true },
        { label: '30-Year Fixed Monthly Payment', value: fixedPayment.toFixed(2), isCurrency: true },
        { label: 'Monthly Savings with ARM (Years 1-7)', value: monthlySavings.toFixed(2), isCurrency: true },
        { label: 'ARM Payment After Adjustment (Year 8+)', value: armAdjustedPayment.toFixed(2), isCurrency: true },
        { label: 'Total Interest Paid - 7/1 ARM', value: armTotalInterest.toFixed(2), isCurrency: true },
        { label: 'Total Interest Paid - 30-Year Fixed', value: fixedTotalInterest.toFixed(2), isCurrency: true },
        { label: 'Total Savings Over Your Timeline', value: Math.abs(totalSavings).toFixed(2), isCurrency: true },
        { label: 'Recommended Option', value: recommendation, isCurrency: false },
      ];
    },
  },
};
