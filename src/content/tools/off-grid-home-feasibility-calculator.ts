import { CalculatorContent } from '@/types';

export const OFF_GRID_HOME_FEASIBILITY_CALCULATOR_CONTENT: CalculatorContent = {
  title: 'Off-Grid Home Feasibility Calculator - Self-Sufficient Living Cost Analysis',
  description: 'Calculate costs and feasibility of going off-grid with solar power, water systems, septic, and energy storage for self-sufficient living',
  icon: 'Icon',
  slug: 'off-grid-home-feasibility-calculator',
  category: 'Green & Sustainable',
  article: {
    title: 'Complete Guide to Off-Grid Living - Costs, Systems, and Feasibility Analysis',
    content: `
    <h2>What is Off-Grid Living?</h2>
    <p>Off-grid living means complete independence from public utilities - generating your own electricity, managing water and waste, and often growing food. While initial investment is substantial ($50,000-$150,000), off-grid homeowners eliminate monthly utility bills, gain energy independence, reduce environmental impact, and enjoy freedom from infrastructure. Feasibility depends on location, energy needs, budget, and commitment to sustainable lifestyle.</p>

    <h3>Off-Grid Electricity Systems</h3>
    <ul>
      <li><strong>Solar Power:</strong> Most common - 5-10kW system costs $25,000-$50,000 with batteries.</li>
      <li><strong>Wind Turbines:</strong> Supplement solar in windy areas, 5-10kW costs $15,000-$40,000.</li>
      <li><strong>Micro-Hydro:</strong> Best ROI if you have stream, $5,000-$20,000 for 1-3kW system.</li>
      <li><strong>Generator Backup:</strong> Propane/diesel for cloudy periods, $3,000-$8,000.</li>
      <li><strong>Battery Bank:</strong> 20-40kWh lithium costs $15,000-$35,000, lasts 10-15 years.</li>
      <li><strong>Inverter/Charger:</strong> Converts DC to AC, $2,000-$6,000 for quality system.</li>
    </ul>

    <h3>Off-Grid Water Systems</h3>
    <ul>
      <li><strong>Well Drilling:</strong> 100-300 ft deep costs $5,000-$15,000, provides unlimited water.</li>
      <li><strong>Rainwater Harvesting:</strong> 5,000-10,000 gallon cistern costs $3,000-$12,000.</li>
      <li><strong>Spring Development:</strong> Gravity-fed spring system costs $2,000-$8,000 if available.</li>
      <li><strong>Water Filtration:</strong> Whole-house filter + UV costs $1,500-$4,000.</li>
      <li><strong>Greywater System:</strong> Recycle shower/sink water for irrigation, $1,000-$3,000.</li>
      <li><strong>Solar Water Pump:</strong> Off-grid well pump costs $800-$2,500.</li>
    </ul>

    <h3>Off-Grid Waste Management</h3>
    <ul>
      <li><strong>Septic System:</strong> Standard 1,000-gallon tank + leach field costs $10,000-$25,000.</li>
      <li><strong>Composting Toilet:</strong> Waterless system costs $1,500-$5,000, zero waste.</li>
      <li><strong>Greywater Treatment:</strong> Constructed wetland system costs $3,000-$8,000.</li>
      <li><strong>Incinerating Toilet:</strong> Electric/propane model costs $2,000-$4,500.</li>
    </ul>

    <h3>Off-Grid Heating Systems</h3>
    <ul>
      <li><strong>Wood Stove:</strong> $2,000-$6,000 installed, free/cheap fuel if you have land.</li>
      <li><strong>Rocket Mass Heater:</strong> Ultra-efficient DIY option, $500-$2,000 materials.</li>
      <li><strong>Propane Heater:</strong> Backup heat, $1,500-$3,500 installed.</li>
      <li><strong>Solar Thermal (Passive):</strong> Trombe walls, thermal mass, architectural design.</li>
      <li><strong>Ground-Source Heat Pump:</strong> Can work off-grid with large solar, $20,000-$35,000.</li>
    </ul>

    <h3>Off-Grid System Costs</h3>
    <ul>
      <li><strong>Basic Off-Grid (Tiny Home):</strong> $30,000-$50,000 for 2-3kW solar, water, waste.</li>
      <li><strong>Standard Off-Grid (1,500 sq ft):</strong> $60,000-$100,000 for full systems.</li>
      <li><strong>Luxury Off-Grid (2,500+ sq ft):</strong> $100,000-$200,000 for high-capacity systems.</li>
      <li><strong>Grid Connection Alternative:</strong> $15,000-$50,000 to run power lines (varies widely).</li>
    </ul>

    <h3>Location Considerations</h3>
    <ul>
      <li><strong>Solar Potential:</strong> Southwest (5-7 peak sun hours) vs Pacific Northwest (3-4 hours).</li>
      <li><strong>Water Availability:</strong> Well depth, rainfall, spring access critical for feasibility.</li>
      <li><strong>Zoning Regulations:</strong> Some areas restrict off-grid living or require utilities.</li>
      <li><strong>Building Codes:</strong> May require professional installation, inspections.</li>
      <li><strong>Access:</strong> Remote properties need good roads for maintenance and emergencies.</li>
      <li><strong>Resale Value:</strong> Off-grid homes often sell for 10-30% less than grid-connected.</li>
    </ul>

    <h3>Energy Consumption Management</h3>
    <ul>
      <li><strong>Average Grid Home:</strong> 30-40 kWh/day consumption.</li>
      <li><strong>Efficient Off-Grid Home:</strong> 5-15 kWh/day with conservation.</li>
      <li><strong>LED Lighting:</strong> 75% less energy than incandescent.</li>
      <li><strong>Efficient Appliances:</strong> ENERGY STAR fridge, propane stove, line-dry clothes.</li>
      <li><strong>No Electric Heat:</strong> Wood/propane instead of electric resistance.</li>
      <li><strong>Seasonal Adjustment:</strong> Higher usage in winter requires larger system.</li>
    </ul>

    <h3>Annual Operating Costs</h3>
    <ul>
      <li><strong>Grid Home Utilities:</strong> $2,400-$4,800/year (electric + gas + water/sewer).</li>
      <li><strong>Off-Grid Home:</strong> $500-$2,000/year (propane + maintenance + generator fuel).</li>
      <li><strong>Battery Replacement:</strong> $15,000-$25,000 every 10-15 years.</li>
      <li><strong>Generator Maintenance:</strong> $200-$500/year.</li>
      <li><strong>Well/Pump Maintenance:</strong> $100-$300/year.</li>
      <li><strong>Solar Panel Cleaning/Inspection:</strong> $100-$300/year.</li>
    </ul>

    <h3>Financing Off-Grid Systems</h3>
    <ul>
      <li><strong>30% Federal Solar Tax Credit:</strong> Applies to solar + battery for primary residence.</li>
      <li><strong>USDA Rural Energy Grants:</strong> Up to 25% grant + 75% loan for rural properties.</li>
      <li><strong>Home Equity Loan:</strong> Finance off-grid systems against property value.</li>
      <li><strong>Cash Purchase:</strong> Most common - avoid debt, own systems outright.</li>
      <li><strong>State/Utility Rebates:</strong> Some programs offer rebates even for off-grid.</li>
    </ul>

    <h3>Off-Grid Lifestyle Adjustments</h3>
    <ul>
      <li><strong>Energy Awareness:</strong> Monitor usage daily, adjust consumption to production.</li>
      <li><strong>Weather Dependency:</strong> Cloudy weeks require conservation or generator use.</li>
      <li><strong>DIY Maintenance:</strong> Must learn to troubleshoot systems or pay premium for service calls.</li>
      <li><strong>Food Storage:</strong> Efficient chest freezers, propane fridge options.</li>
      <li><strong>Water Conservation:</strong> Low-flow fixtures, careful usage during dry periods.</li>
    </ul>

    <h3>Hybrid Systems (Grid-Tie with Battery Backup)</h3>
    <ul>
      <li><strong>Best of Both Worlds:</strong> Grid connection for backup, solar for primary power.</li>
      <li><strong>Lower Cost:</strong> Smaller battery bank needed, $20,000-$40,000 system.</li>
      <li><strong>Net Metering:</strong> Sell excess to grid, buy when needed.</li>
      <li><strong>Reliability:</strong> Never run out of power, but maintain grid independence.</li>
    </ul>

    <h3>How to Use This Calculator</h3>
    <p>Enter your home size, daily energy consumption, water source options, waste system choice, and location solar hours. The calculator estimates complete system costs, annual operating savings, payback period, and feasibility score to help you determine if off-grid living is right for your situation.</p>
  `,
  },
  calculator: {
    fields: [
      {
        name: 'homeSize',
        label: 'Home Size (Square Feet)',
        type: 'number',
        defaultValue: 1500,
      },
      {
        name: 'dailyEnergy',
        label: 'Target Daily Energy Use (kWh)',
        type: 'number',
        defaultValue: 10,
      },
      {
        name: 'sunHours',
        label: 'Average Peak Sun Hours/Day',
        type: 'number',
        defaultValue: 5,
      },
      {
        name: 'waterSource',
        label: 'Water Source',
        type: 'select',
        options: [
          { value: 'Well', label: 'Well' },
          { value: 'Rainwater Collection', label: 'Rainwater Collection' },
          { value: 'Spring', label: 'Spring' },
          { value: 'Combination', label: 'Combination' }
        ],
        defaultValue: 'Well',
      },
      {
        name: 'wasteSystem',
        label: 'Waste System',
        type: 'select',
        options: [
          { value: 'Septic', label: 'Septic' },
          { value: 'Composting Toilet', label: 'Composting Toilet' },
          { value: 'Both', label: 'Both' }
        ],
        defaultValue: 'Septic',
      },
      {
        name: 'batteryDays',
        label: 'Days of Battery Autonomy',
        type: 'number',
        defaultValue: 3,
      },
      {
        name: 'currentUtilities',
        label: 'Current Monthly Utility Bills ($)',
        type: 'number',
        defaultValue: 350,
      },
    ],
    results: [],
    calculate: (values) => {
      const { homeSize, dailyEnergy, sunHours, waterSource, wasteSystem, batteryDays, currentUtilities } = values;
      
      const solarNeeded = dailyEnergy / sunHours / 0.8;
      const solarCost = solarNeeded * 3500;
      
      const batteryCapacity = dailyEnergy * batteryDays;
      const batteryCost = batteryCapacity * 800;
      
      const inverterCost = 4000;
      
      let waterCost = 0;
      if (waterSource === 'Well') waterCost = 10000;
      else if (waterSource === 'Rainwater Collection') waterCost = 8000;
      else if (waterSource === 'Spring') waterCost = 5000;
      else waterCost = 13000;
      
      let wasteCost = 0;
      if (wasteSystem === 'Septic') wasteCost = 17500;
      else if (wasteSystem === 'Composting Toilet') wasteCost = 3500;
      else wasteCost = 20000;
      
      const heatingCost = 4000;
      const generatorCost = 5000;
      const miscCosts = 8000;
      
      const totalSystemCost = solarCost + batteryCost + inverterCost + waterCost + wasteCost + heatingCost + generatorCost + miscCosts;
      
      const federalTaxCredit = (solarCost + batteryCost) * 0.30;
      const netCost = totalSystemCost - federalTaxCredit;
      
      const annualUtilitySavings = currentUtilities * 12;
      const annualOperatingCost = 1200;
      const netAnnualSavings = annualUtilitySavings - annualOperatingCost;
      
      const paybackYears = netCost / netAnnualSavings;
      const twentyYearSavings = (netAnnualSavings * 20) - 20000;
      const twentyYearROI = ((twentyYearSavings - netCost) / netCost) * 100;

      return [
        { label: `Solar System (${solarNeeded.toFixed(1)} kW)`, value: solarCost.toFixed(2), isCurrency: true },
        { label: `Battery Bank (${batteryCapacity.toFixed(0)} kWh)`, value: batteryCost.toFixed(2), isCurrency: true },
        { label: 'Inverter/Charger System', value: inverterCost.toFixed(2), isCurrency: true },
        { label: `Water System (${waterSource})`, value: waterCost.toFixed(2), isCurrency: true },
        { label: `Waste System (${wasteSystem})`, value: wasteCost.toFixed(2), isCurrency: true },
        { label: 'Heating System', value: heatingCost.toFixed(2), isCurrency: true },
        { label: 'Backup Generator', value: generatorCost.toFixed(2), isCurrency: true },
        { label: 'Installation & Misc.', value: miscCosts.toFixed(2), isCurrency: true },
        { label: 'Total System Cost', value: totalSystemCost.toFixed(2), isCurrency: true },
        { label: 'Federal Tax Credit (30%)', value: federalTaxCredit.toFixed(2), isCurrency: true },
        { label: 'Net Cost After Incentives', value: netCost.toFixed(2), isCurrency: true },
        { label: 'Annual Utility Savings', value: annualUtilitySavings.toFixed(2), isCurrency: true },
        { label: 'Annual Operating Costs', value: annualOperatingCost.toFixed(2), isCurrency: true },
        { label: 'Net Annual Savings', value: netAnnualSavings.toFixed(2), isCurrency: true },
        { label: 'Simple Payback Period', value: `${paybackYears.toFixed(1)} years` },
        { label: '20-Year ROI', value: `${twentyYearROI.toFixed(1)}%` },
      ];
    },
  },
};
