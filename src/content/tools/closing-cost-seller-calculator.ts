import { CalculatorContent } from "@/types";

export const CLOSING_COST_SELLER_CALCULATOR_CONTENT: CalculatorContent = {
  title: "Seller Closing Cost Calculator | How Much Will I Net From Home Sale?",
  description:
    "Calculate seller closing costs including realtor commissions, title fees, taxes, and payoffs. Find out your net proceeds from selling your home after all expenses.",
  icon: "Icon",
  category: "Calculators",
  slug: "closing-cost-seller-calculator",
  article: {
    title: "Seller Closing Costs: Calculate Your Net Proceeds",
    content: `# Seller Closing Cost Calculator: Know Your Net Proceeds

When selling your home, numerous costs reduce your final proceeds. This calculator helps you understand every expense so you know exactly how much money you'll walk away with.

## What Are Seller Closing Costs?

**Seller closing costs** are fees and expenses paid by the seller when transferring property ownership to the buyer.

**Typical range**: 8-10% of sale price (including commission)
**Example**: $400,000 sale = $32,000-$40,000 in costs

## Complete Breakdown of Seller Costs

### 1. Real Estate Commission (Largest Cost)

**Typical**: 5-6% of sale price
**Split**: Listing agent 2.5-3%, buyer's agent 2.5-3%

**Example**:
- Sale price: $400,000
- Commission (6%): $24,000
- Your agent: $12,000
- Buyer's agent: $12,000

**Negotiable**: Yes! Everything is negotiable
- Discount brokerages: 1-4%
- FSBO (for sale by owner): 0% (but you do all work)
- Flat fee: $3,000-10,000 fixed

### 2. Title and Escrow Fees

**Title Insurance** (Seller's Policy): $500-$2,000
- Protects buyer against defects
- Who pays varies by state

**Escrow/Settlement Fee**: $300-$1,500
- Coordinates closing
- Holds funds
- Often split with buyer

**Title Search**: $200-$400
- Researches ownership
- Finds liens

### 3. Seller Concessions to Buyer

**Buyer Closing Costs**: 0-6% of price
- Competitive markets often require
- Helps buyers with cash shortage
- Effectively reduces sale price

**Repairs/Credits**: $0-$10,000+
- From inspection negotiations
- Can be credit or repairs
- Varies widely

**Home Warranty**: $350-$600
- First year for buyer
- Sweetens the deal
- Optional but common

### 4. Payoffs and Liens

**Existing Mortgage(s)**: Remaining balance
- Primary mortgage payoff
- Second mortgage/HELOC
- Must be paid at closing

**Property Taxes**: Prorated
- Pay your portion of year
- Can owe or get credit

**HOA Dues**: Current + transfer fee
- Pay through closing date
- HOA transfer fee: $100-$500

**Liens**: Full amounts
- Tax liens
- Mechanic's liens
- Judgment liens
- Must be cleared

### 5. Government Fees and Taxes

**Transfer Taxes**: 0.01-3% of sale price
- State/county/city taxes
- Varies greatly by location
- Sometimes split with buyer

**Recording Fees**: $50-$250
- Records deed transfer
- Public record

**Capital Gains Tax** (if applicable): 0-20%
- Only on profit above exclusion
- $250k single, $500k married exclusion
- On gains, not sale price

### 6. Miscellaneous Costs

**Staging**: $500-$5,000
- Professional staging
- Photography: $200-$500
- Optional but helps sale

**Repairs Pre-Sale**: Varies
- Fix deferred maintenance
- Boost appeal
- ROI usually positive

**Moving Costs**: $1,000-$5,000
- Hiring movers
- Truck rental
- Storage

**Attorney Fees** (some states): $500-$2,000
- Required in some states
- Reviews contracts
- Handles closing

## Example: Net Proceeds Calculation

### $500,000 Sale Price

**Gross Proceeds**: $500,000

**Subtract**:
- Commission (6%): -$30,000
- Mortgage payoff: -$320,000
- Title/escrow: -$1,500
- Transfer tax: -$2,500
- Seller concessions: -$5,000
- Repairs credit: -$3,000
- HOA dues/fees: -$800
- Misc fees: -$500

**Net Proceeds**: $136,700

**Actually keep**: 27.3% of sale price

## State-by-State Variations

### High-Cost States

**New York**:
- Transfer tax: 1-2.625%
- NYC additional: 1-2.5%
- Attorney required: $2,000+
- Mansion tax (>$1M): 1-3.9%

**California**:
- Transfer tax: 0.11% (varies by county)
- SF/Oakland add 2.5-3%
- Title insurance: seller pays typically

**Pennsylvania**:
- Transfer tax: 2% (1% state, 1% local)
- One of highest in nation
- Usually split 50/50

### Moderate States

**Texas**:
- No state transfer tax!
- Title insurance: seller typically pays
- Deed prep: $150-300

**Florida**:
- Doc stamps: $0.70 per $100
- Title insurance: varies by county
- Some counties expensive

**Illinois**:
- Transfer tax: $1-3 per $1,000
- Varies by county
- Often split with buyer

### Lower-Cost States

**Alabama**:
- Transfer tax: very low
- Title costs reasonable

**Missouri**:
- Transfer tax: minimal
- Lower overall costs

## FSBO (For Sale By Owner) Costs

**Skipping realtor saves commission but adds**:

**Must pay**:
- Buyer's agent (2.5-3%): $10,000-$15,000
- MLS listing fee: $300-$500
- Attorney (recommended): $1,000-$2,000

**Should pay**:
- Professional photos: $200-$500
- Marketing: $500-$2,000
- Signage: $100-$300

**Your time**:
- Showings
- Negotiations
- Paperwork
- Marketing

**Savings**: 2.5-3% of sale price
**Risk**: Might sell for less without expertise

## How to Reduce Seller Costs

### 1. Negotiate Commission
- Interview multiple agents
- Ask for 5% or 4.5% instead of 6%
- Saving: $5,000-$10,000

### 2. Price Strategically
- Price right from start
- Avoid price drops
- Quick sale = less carrying costs

### 3. Make Strategic Repairs
- Fix only what impacts sale price
- Don't over-improve
- Focus on ROI

### 4. Time Your Sale
- Sell in spring/summer (better prices)
- Avoid rushed sales
- Plan ahead to avoid double mortgage

### 5. Shop Title Insurance
- If allowed in your state
- Compare companies
- Saving: $200-$500

### 6. Limit Concessions
- Price competitively to start
- Less likely to give credits
- Strong inspection

## Common Seller Mistakes

### Mistake #1: Underestimating Costs
**Problem**: Shock at closing table

**Solution**: Calculate all costs upfront

### Mistake #2: Overpricing to "Leave Room"
**Problem**: Home sits, eventually sells for less

**Solution**: Price right initially

### Mistake #3: Cheap Out on Presentation
**Problem**: Sells for less than potential

**Solution**: Strategic improvements

### Mistake #4: Not Shopping Agents
**Problem**: Pay highest commission

**Solution**: Interview 3+ agents, negotiate

### Mistake #5: Forgetting About Capital Gains
**Problem**: Tax surprise

**Solution**: Consult tax professional

## Capital Gains Tax Considerations

### Exclusions (Primary Residence)
**Requirements**:
- Owned 2 of last 5 years
- Lived there 2 of last 5 years

**Exclusion amounts**:
- Single: $250,000 profit
- Married: $500,000 profit

### Example:
- Sale price: $600,000
- Original price: $300,000
- Improvements: $50,000
- **Profit**: $250,000
- Married couple: **$0 tax** (under $500k exclusion)

### If You Exceed Exclusion
- Short-term (< 1 year): Ordinary income tax
- Long-term (> 1 year): 0%, 15%, or 20% based on income

## Net Proceeds by Scenario

### Scenario 1: Free and Clear
- Sale price: $350,000
- No mortgage
- Commission (6%): -$21,000
- Other costs (2%): -$7,000
- **Net**: $322,000 (92%)

### Scenario 2: Typical Sale
- Sale price: $450,000
- Mortgage: $280,000
- Commission: -$27,000
- Other costs: -$9,000
- **Net**: $134,000 (30%)

### Scenario 3: Underwater
- Sale price: $300,000
- Mortgage: $320,000
- Commission: -$18,000
- Other costs: -$6,000
- **Net**: -$44,000 (SHORT SALE or bring cash)

## When Selling Makes Sense

### Good Times to Sell:
âœ… Significant equity built up
âœ… Market at/near peak
âœ… Ready for lifestyle change
âœ… Job relocation
âœ… Can afford to move up
âœ… Spring/summer in your market

### Bad Times to Sell:
âŒ Underwater on mortgage
âŒ Owned < 2 years (capital gains)
âŒ Market declining
âŒ Winter (in seasonal markets)
âŒ Need to sell immediately (weak position)
âŒ Can't afford transaction costs

## Using This Calculator

**Input**:
- Expected sale price
- Current mortgage balance
- Commission rate
- State/location
- Planned concessions

**Output**:
- Itemized cost breakdown
- Net proceeds estimate
- Take-home percentage
- Capital gains estimate
- Cost reduction strategies

Remember: These are estimates. Get actual quotes from title companies and realtors for precise numbers!
    `,
  },
  calculator: {
    fields: [
      {
        name: "salePrice",
        label: "Expected Sale Price ($)",
        type: "number",
        defaultValue: "450000",
      },
      {
        name: "mortgageBalance",
        label: "Remaining Mortgage Balance ($)",
        type: "number",
        defaultValue: "280000",
      },
      {
        name: "commissionPercent",
        label: "Real Estate Commission (%)",
        type: "number",
        defaultValue: "6",
      },
      {
        name: "sellerConcessions",
        label: "Seller Concessions/Credits ($)",
        type: "number",
        defaultValue: "5000",
      },
      {
        name: "repairs",
        label: "Estimated Repairs/Improvements Before Sale ($)",
        type: "number",
        defaultValue: "3000",
      },
      {
        name: "transferTaxRate",
        label: "Transfer Tax Rate (%)",
        type: "number",
        defaultValue: "1",
      },
    ],
    results: [
      {
        label: "Net Proceeds (Take Home)",
        isCurrency: true,
      },
      {
        label: "Total Selling Costs",
        isCurrency: true,
      },
      {
        label: "Cost Breakdown",
        isCurrency: false,
      },
      {
        label: "Net as % of Sale Price",
        isCurrency: false,
      },
      {
        label: "Recommendations",
        isCurrency: false,
      },
    ],
    calculate: (values) => {
      const {
        salePrice,
        mortgageBalance,
        commissionPercent,
        sellerConcessions,
        repairs,
        transferTaxRate,
      } = values;

      const sale = parseFloat(salePrice);
      const mortgage = parseFloat(mortgageBalance);
      const commPct = parseFloat(commissionPercent) / 100;
      const concessions = parseFloat(sellerConcessions);
      const repairCosts = parseFloat(repairs);
      const taxRate = parseFloat(transferTaxRate) / 100;

      const commission = sale * commPct;
      const transferTax = sale * taxRate;
      const titleEscrow = 1500; // Estimate
      const otherFees = 800; // Recording, misc

      const totalCosts = commission + transferTax + titleEscrow + otherFees + concessions + repairCosts;
      const netProceeds = sale - mortgage - totalCosts;
      const netPercent = (netProceeds / sale) * 100;

      const breakdown = `
ğŸ’° DETAILED COST BREAKDOWN:

Sale Price: $${sale.toLocaleString()}

ğŸ“‰ Deductions:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ  Mortgage Payoff: -$${mortgage.toLocaleString()}

ğŸ’¼ Real Estate Commission (${(commPct * 100).toFixed(1)}%): -$${commission.toLocaleString()}
  â€¢ Listing agent: -$${(commission / 2).toLocaleString()}
  â€¢ Buyer's agent: -$${(commission / 2).toLocaleString()}

ğŸ›ï¸ Title & Escrow: -$${titleEscrow.toLocaleString()}

ğŸ“ Transfer Taxes (${(taxRate * 100).toFixed(2)}%): -$${transferTax.toLocaleString()}

ğŸ’š Seller Concessions: -$${concessions.toLocaleString()}

ğŸ”§ Repairs/Improvements: -$${repairCosts.toLocaleString()}

ğŸ“‹ Other Fees: -$${otherFees.toLocaleString()}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’µ NET PROCEEDS: $${netProceeds.toLocaleString()} (${netPercent.toFixed(1)}%)
      `;

      let recommendations = "";
      
      if (netProceeds < 0) {
        recommendations = `âŒ SHORT SALE SITUATION\n\nYou owe MORE than the home will sell for!\n\nâ€¢ Shortfall: $${Math.abs(netProceeds).toLocaleString()}\nâ€¢ You'd need to bring this cash to closing\nâ€¢ Or pursue short sale (bank accepts less)\nâ€¢ Or wait to sell until more equity\n\nğŸ’¡ Options:\n1. Wait and pay down mortgage\n2. Make improvements to increase value\n3. Short sale (impacts credit)\n4. Refinance if possible\n5. Rent it out instead`;
      } else if (netPercent < 5) {
        recommendations = `âš ï¸ MINIMAL PROCEEDS\n\nYou'll only keep ${netPercent.toFixed(1)}% of sale price.\n\nâ€¢ Very little profit after costs\nâ€¢ Consider if selling makes sense now\nâ€¢ Might be better to wait and build equity\n\nğŸ’¡ Ways to Improve:\nâ€¢ Negotiate lower commission (try 5% instead of ${(commPct * 100)}%)\nâ€¢ Reduce/eliminate pre-sale repairs\nâ€¢ Minimize seller concessions\nâ€¢ Price higher if market allows\nâ€¢ Wait until you have more equity`;
      } else if (netPercent < 20) {
        recommendations = `âš ï¸ MODEST PROCEEDS\n\nYou'll keep ${netPercent.toFixed(1)}% of sale price.\n\nâ€¢ Net proceeds: $${netProceeds.toLocaleString()}\nâ€¢ Should cover moving and transition\nâ€¢ But limited funds for upgrade\n\nğŸ’¡ Optimization Tips:\nâ€¢ Negotiate commission down to 5% (save $${((sale * commPct) - (sale * 0.05)).toLocaleString()})\nâ€¢ Limit concessions to negotiated items only\nâ€¢ Strategic repairs (ROI focused)\nâ€¢ Close at month start to reduce prorated costs`;
      } else if (netPercent < 40) {
        recommendations = `âœ… GOOD PROCEEDS\n\nYou'll keep ${netPercent.toFixed(1)}% of sale price.\n\nâ€¢ Net proceeds: $${netProceeds.toLocaleString()}\nâ€¢ Solid amount for next home or other goals\nâ€¢ Reasonable transaction\n\nğŸ’¡ Optimization Tips:\nâ€¢ Still try to negotiate commission to 5% (save $${((sale * commPct) - (sale * 0.05)).toLocaleString()})\nâ€¢ Get multiple agent quotes\nâ€¢ Strategic staging for higher sale price\nâ€¢ Time sale for spring/summer if possible`;
      } else {
        recommendations = `âœ… EXCELLENT PROCEEDS\n\nYou'll keep ${netPercent.toFixed(1)}% of sale price!\n\nâ€¢ Net proceeds: $${netProceeds.toLocaleString()}\nâ€¢ Significant equity position\nâ€¢ Great foundation for next move\n\nğŸ’¡ Planning Tips:\nâ€¢ Consider capital gains tax (exclusion: $250k single, $500k married)\nâ€¢ Plan use of proceeds (down payment, investment, etc)\nâ€¢ Timing: Spring/summer typically best\nâ€¢ Professional presentation maximizes price`;
      }

      // Commission savings suggestion
      const commissionSavings = commission - (sale * 0.05);
      if (commissionSavings > 1000) {
        recommendations += `\n\nğŸ’° COMMISSION SAVINGS:\nâ€¢ If you negotiate 5% instead of ${(commPct * 100)}%: Save $${commissionSavings.toLocaleString()}\nâ€¢ Interview multiple agents\nâ€¢ Consider flat-fee or discount brokers\nâ€¢ Everything is negotiable!`;
      }

      return [
        {
          label: "Net Proceeds (Take Home)",
          value: netProceeds.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Total Selling Costs",
          value: totalCosts.toFixed(2),
          isCurrency: true,
        },
        {
          label: "Cost Breakdown",
          value: breakdown,
          isCurrency: false,
        },
        {
          label: "Net as % of Sale Price",
          value: netPercent.toFixed(2) + "%",
          isCurrency: false,
        },
        {
          label: "Recommendations",
          value: recommendations,
          isCurrency: false,
        },
      ];
    },
  },
};
